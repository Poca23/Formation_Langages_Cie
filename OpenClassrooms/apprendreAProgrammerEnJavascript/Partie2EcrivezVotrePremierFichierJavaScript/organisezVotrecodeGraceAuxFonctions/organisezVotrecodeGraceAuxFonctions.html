<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organisez votre code grÃ¢ce aux fonctions</title>
    <link rel="stylesheet" href="../../style.css">
    <script src="../organisezVotrecodeGraceAuxFonctions/organisezVotrecodeGraceAuxFonctions.js"></script>
</head>

<body>
    <h2><a href="../../Partie2EcrivezVotrePremierFichierJavaScript/index.html" target="_blank">Organisez votre code
            grÃ¢ce aux
            fonctions</a></h2>
    <p>Notre projet avance ! Nous pouvons maintenant proposer plusieurs mots ou phrases Ã  lâ€™utilisateur, compter son
        score et
        lâ€™afficher. ğŸš€
        <br><br>
        Pour lâ€™instant notre code est encore relativement petit, mais il va grandir au fur et Ã  mesure du dÃ©veloppement.
        Il est
        donc trÃ¨s important de lâ€™organiser pour quâ€™il reste lisible et fonctionnel. Câ€™est dâ€™autant plus important que,
        en tant
        que dÃ©veloppeur, vous devrez frÃ©quemment dupliquer du code. Voyons ensemble comment Ã©viter cette rÃ©pÃ©tition et
        rÃ©aliser
        cela efficacement, grÃ¢ce aux fonctions ! ğŸ˜ƒ
    </p>

    <h3>DÃ©couvrez les fonctions</h3>

    <p>Une <strong>fonction</strong> est un <strong>bloc de code auquel on attribue un nom</strong> .
        <strong>Appeler</strong> cette fonction permet dâ€™exÃ©cuter le code
        quâ€™elle
        contient. On parle donc de fonction, car il sâ€™agit dâ€™un bloc de code qui a un rÃ´le spÃ©cifique au sein de votre
        fichier
        <br>
        JavaScript. Une fonction peut ainsi :
    </p>
    <br>
    <ul>
        <li><strong>contenir des informations</strong>, quâ€™on appelle <strong>paramÃ¨tres</strong> ;</li>
        <li><strong>retourner un rÃ©sulta</strong>t ;</li>
        <li><strong>effectuer une action</strong>.</li>
    </ul>
    <br>
    <p>En fait, vous utilisez dÃ©jÃ  des fonctions depuis le dÃ©but de ce cours, sans mÃªme le savoir ! Par exemple, quand
        vous
        Ã©crivez : (cf fichier JavaScript)</p>
    <br>
    <p><strong>Prompt est une fonction</strong> :</p>
    <br>
    <ul>
        <li>elle prend en paramÃ¨tre le message Ã  afficher (ici, â€œEntrez un motâ€) ;</li>
        <li>elle retourne un rÃ©sultat : le mot tapÃ© par lâ€™utilisateur.</li>
    </ul>
    <br>
    <p>Dans lâ€™exemple ci-dessus, le retour de la fonction prompt est copiÃ© dans motUtilisateur.</p>
    <h3>RÃ©digez une fonction en JavaScript</h3>
    <p>Dans le cadre de notre application, nous souhaitons Ã©crire une fonction qui va gÃ©nÃ©rer une phrase pour donner le
        score
        final Ã  l'utilisateur.
        <br>
        Cette fonction prendra donc en paramÃ¨tre deux informations :
    </p>
    <br>
    <ul>
        <li> le score ;</li>
        <li> le nombre de questions.</li>
    </ul>
    <br>
    <p>Elle retournera une phrase contenant ces informations.
        <br><br>
        Cela donne donc : (cf fichier JavaScript)
    </p>
    <br>
    <p>Revenons en dÃ©tail sur ce morceau de code :</p>
    <br>
    <ul>
        <li>le mot-clÃ© <strong>function</strong> (â€œfonctionâ€, en anglais) est suivi du nom â€œretournerMessageScoreâ€. Ce
            mot est ici
            <strong>obligatoire</strong>
            pour
            dÃ©finir la fonction, <strong>mais</strong> <u>il nâ€™est ensuite plus nÃ©cessaire lorsquâ€™on lâ€™utilise</u> ;
        </li>
        <li>par consÃ©quent, la fonction â€œretournerMessageScoreâ€ est crÃ©Ã©e ;</li>
        <li><strong>entre parenthÃ¨ses</strong> sont indiquÃ©s <strong>les paramÃ¨tres</strong> envoyÃ©s Ã  cette fonction :
            <u>â€œscoreâ€</u> et <u>â€œnombreQuestionsâ€ </u> ;
        </li>
        <li> <strong>entre accolades</strong> est indiquÃ© <strong>le bloc de code</strong> qui sera exÃ©cutÃ©
            <strong>quand la fonction
                sera
                appelÃ©e</strong> (<u>let messageâ€¦et return</u>);
        </li>
        <li><strong>dans ce bloc de code</strong>, nous <strong>dÃ©clarons</strong> <u>une variable message</u> dans
            laquelle nous <strong>crÃ©ons notre
                message</strong> ;</li>
        <li> <strong>le code est finalisÃ©</strong> avec le nouveau mot-clÃ© <strong>return</strong>. Ce mot signifie que
            <u>la fonction va
                retourner le
                contenu de
                message</u>.
        </li>
    </ul>
    <br>

    <p>Si vous ajoutez ce code dans votre projet et que vous le testez, il ne provoquera aucun changement pour le
        moment. Ces
        instructions dÃ©finissent notre fonctionâ€¦ Mais pour quâ€™elle produise son effet, nous devons lâ€™appeler.</p>
    <p>Par exemple : (cf fichier JavaScript)</p>
    <br>
    <p>Gardez Ã©galement en tÃªte que <strong>lâ€™ordre des paramÃ¨tres est trÃ¨s important</strong> !
        <br>
        La fonction a un
        premier paramÃ¨tre
        nommÃ©
        <strong>â€œscoreâ€</strong> et un second paramÃ¨tre nommÃ© <strong>â€œnombreQuestionsâ€</strong> :
    </p>
    <br>
    <ul>
        <li>si on appelle la fonction avec 5 et 10, 5 Ã©tant le premier paramÃ¨tre, il ira donc dans la variable â€œscoreâ€ ;
        </li>
        <li>le 10 Ã©tant positionnÃ© en second, il ira dans la variable â€œnombreQuestionsâ€, positionnÃ©e en second aussi.
        </li>
    </ul>
    <br>
    <img src="../../assets/function.png" alt="">
    <h3>Codez proprement</h3>

    <p>Vous vous rendrez compte trÃ¨s rapidement que les fonctions sont un Ã©lÃ©ment majeur de votre code. Il est donc trÃ¨s
        important de respecter quelques bonnes pratiques pour prÃ©venir tout problÃ¨me. Voici quelques conseils.</p>
    <h4>DÃ©finissez une tÃ¢che spÃ©cifique pour chaque fonction</h4>
    <p>Dans lâ€™idÃ©al, on attribue une seule tÃ¢che Ã  une fonction : afficher, calculer, lancer une opÃ©ration, initialiserâ€¦
        <br><br>
        Si une
        fonction sâ€™occupe de tout gÃ©rer Ã  la fois, elle comportera beaucoup de lignes, difficiles Ã  comprendre, Ã 
        modifier et Ã 
        tester.
    </p>
    <h4>Ã‰crivez des fonctions courtes</h4>
    <p>Dans l'idÃ©al, vos fonctions ne doivent pas dÃ©passer 30 lignes. Si le but de la fonction est clair, un code court
        est
        gÃ©nÃ©ralement suffisant pour lâ€™atteindre.</p>
    <br>
    <p>Si la fonction prend trop dâ€™ampleur, câ€™est peut-Ãªtre quâ€™elle est mal conÃ§ue, quâ€™elle fait trop de choses, ou
        quâ€™il
        faudrait la dÃ©couper en plusieurs sous-fonctions.</p>
    <h4>Nommez clairement vos fonctions</h4>
    <p>Comme pour les variables, le nom dâ€™une fonction devrait Ãªtre suffisamment clair pour permettre dâ€™en deviner le
        contenu
        sans lire le code quâ€™elle contient.</p>
    <br>
    <p>Vous pouvez par exemple utiliser un verbe pour nommer vos fonctions.
        <br>
        Si une fonction sâ€™appelle resultat, que
        fait-elle ?
        Elle calcule le rÃ©sultat ? Elle lâ€™affiche ? Elle le rÃ©initialise ?
        <br>
        En utilisant des noms tels que
        afficherResultat,
        calculerResultat, reinitialiserResultatâ€¦ lÃ , plus aucune ambiguÃ¯tÃ© ! ğŸ˜ƒ
    </p>
    <h4>Nommez clairement vos paramÃ¨tres</h4>
    <p>Les paramÃ¨tres doivent Ã©galement Ãªtre le plus explicites possible : (cf fichier JavaScript)</p>
    <br>
    <p>Que dois-je envoyer Ã  ma fonction pour remplir le paramÃ¨tre a ? Est-ce quâ€™il reprÃ©sente le nom du joueur ? La
        liste des
        mots quâ€™il doit taper ? Autre chose ?
        <br><br>
        Ici, il est donc prÃ©fÃ©rable dâ€™Ã©crire : (cf fichier JavaScript)
    </p>
    <br>
    <p>Rien quâ€™avec le nom, nous savons maintenant que le paramÃ¨tre contient en rÃ©alitÃ© un tableau avec une liste de
        mots.
        Nâ€™oubliez pas non plus quâ€™en cas d'ambiguÃ¯tÃ©, vous pouvez toujours insÃ©rer un commentaire pour ajouter une
        prÃ©cision !</p>

    <h3>Organisez votre code en plusieurs fichiers</h3>
    <p>DÃ©couper votre code en plusieurs fonctions permet de mieux organiser vos idÃ©es et facilite les modifications,
        mais
        ce
        nâ€™est pas suffisantâ€¦
        <br><br>
        Si votre projet continue de grandir, <u><strong>regrouper</strong> toutes vos fonctions au mÃªme endroit risque
            de rapidement
            <strong>causer
                des
                problÃ¨mes de lisibilitÃ© et de navigation</strong>. Câ€™est encore plus vrai si vous Ãªtes plusieurs Ã 
            travailler sur le
            mÃªme
            projet
            !</u>
        <br><br>
    <p> Souvenez-vous, quand nous avons crÃ©Ã© notre fichier index.HTML dans le chapitre "ApprÃ©hendez la logique de
        programmation", nous avons Ã©crit :</p>
    </p>
    <br>
    <p>script src="script.js"</p>
    <br>
    <p> â€¦ afin dâ€™inclure notre fichier script.
        <br><br>
        Imaginez maintenant que nous voulions crÃ©er un fichier de configuration qui contiendrait nos deux tableaux
        listeMots
        et
        listePhrases. Cela nous permettrait de faire Ã©voluer ces tableaux sans risquer de modifier par erreur la logique
        du
        code
        ! ğŸ˜ƒ
        <br><br>
        Pour y parvenir, nous pouvons inclure ce nouveau fichier en insÃ©rant une nouvelle ligne dans le fichier HTML
        pour
        prÃ©ciser le chemin du nouveau fichier :
    </p>
    <p>
        script src="config.js"
        <br>
        script src="script.js"
    </p>
    <br>
    <p>Dans cet exemple, jâ€™ai mis le <strong>fichier config.js</strong> <u>avant</u> <strong>script.js</strong>, car les
        <strong>variables que je
            vais</strong> dÃ©finir dans le
        fichier
        <u>config.js</u> <strong>seront utilisÃ©es par script.js</strong>. Elles doivent donc Ãªtre <strong>dÃ©finies en
            premier</strong>.
    </p>
    <br>
    <p>Ensuite, nous devons dÃ©finir le contenu du fichier.
        <br><br>
        Pour cela, nous allons supprimer les deux const <strong>listeMots</strong> et
        <strong>listesPhrases</strong> de script.js, et les copier <u>dans config.js</u>.
    </p>
    <br>
    <p>N'hÃ©sitez pas Ã  ajouter des commentaires pour donner des prÃ©cisions dans votre code. Mettre un commentaire
        inutile nâ€™est
        pas trÃ¨s grave. En revanche, ne pas avoir un commentaire utile peut parfois faire perdre beaucoup de temps.</p>

    <h3>MaÃ®trisez la portÃ©e des variables</h3>
    <p>Nous avons commencÃ© Ã  apprendre le JavaScript en dÃ©clarant des variables. Maintenant que vous manipulez des
        fonctions et
        des blocs de code, vous devez maÃ®triser une notion importante : la portÃ©e des variables. Pas de panique, je vous
        explique ! ğŸ˜‰</p>
    <br>
    <p>Les variables ont une portÃ©e, qui est dÃ©finie par lâ€™endroit oÃ¹ cette variable est dÃ©clarÃ©e. Ainsi, on distingue
        deux
        types de variables :</p>

    <br>
    <ul>
        <li><strong>les variables globales :</strong> visibles et utilisables dans lâ€™ensemble du code ;</li>
        <li><strong>les variables locales :</strong> qui ne peuvent Ãªtre utilisÃ©es quâ€™au sein du bloc de code dans
            lequel elles sont
            dÃ©finies.</li>
    </ul>
    <br>
    <p>Ouh lÃ  lÃ  lÃ â€¦ Aurais-tu un exemple pour rendre les choses plus claires ? ğŸ˜±
        <br><br>
        Bien sÃ»r ! Prenons lâ€™exemple ci-dessous : (cf fichier JavaScript)
    </p>
    <br>
    Si vous copiez-collez ce code dans votre Ã©diteur de code, vous constaterez plusieurs choses :
    <br><br>
    les chiffres 1 et 2 apparaissent en premier : ils sont affichÃ©s dans la fonction afficheUnNombre ;
    <br><br>
    le dernier console.log renvoie une erreur, due au fait que la variable monNombreLocal est dÃ©finie au sein du bloc de
    code de la fonction afficheUnNombre.
    <br><br>
    Comme il sâ€™agit dâ€™une variable locale, elle nâ€™est pas accessible dans lâ€™ensemble du code. Elle est donc inconnue
    lorsquâ€™on tente de lâ€™afficher hors de la fonction qui la dÃ©clare.
    <br><br>
    Ã€ mesure que votre code sâ€™agrandit, les variables sâ€™accumulent. Certaines peuvent dÃ©signer le mÃªme Ã©lÃ©ment, avoir le
    mÃªme nomâ€¦ et provoquer des rÃ©sultats inattendus ğŸ˜±. En restreignant une variable Ã  un bloc de code, vous lâ€™empÃªchez
    d'interfÃ©rer avec une autre variable globale. Cela vous Ã©vitera de nombreux bugs particuliÃ¨rement difficiles Ã 
    trouver !

    <h3>Ã€ vous de jouer !</h3>

    <h4>Ã‰tape 1 : dÃ©coupez votre code en fonctions :</h4>
    <p>Notre but est maintenant dâ€™amÃ©liorer lâ€™organisation et la lisibilitÃ© de<a
            href="https://github.com/OpenClassrooms-Student-Center/7696886-javascript/tree/P2-C3---Les-boucles">notre
            code</a>.
        <br>
        Je vous propose donc de crÃ©er
        les
        fonctions suivantes :
    </p>
    <br>
    <ul>
        <li>afficherResultat : cette fonction prend en paramÃ¨tre le rÃ©sultat et le nombre total de mots proposÃ©s, et
            affiche le
            rÃ©sultat du joueur ;</li>
        <li> choisirPhrasesOuMots : cette fonction demande Ã  lâ€™utilisateur sâ€™il veut jouer avec des phrases ou des mots.
        </li>
    </ul>
    <br>
    <p> Tant que lâ€™utilisateur nâ€™a pas rÃ©pondu â€œphrasesâ€ ou â€œmotsâ€, la question lui est posÃ©e en boucle. La fonction ne
        prend
        aucun paramÃ¨tre, mais retourne ce que lâ€™utilisateur a rÃ©pondu.</p>
    <br>
    <ul>
        <li> lancerBoucleDeJeu : cette fonction contient la boucle principale de jeu, c'est-Ã -dire la boucle for qui
            propose les
            mots/phrases au joueur, et lui demande de taper ces mots. Elle prend en paramÃ¨tre le tableau de mots/phrases
            qui
            sera
            proposÃ© au joueur, et retourne le nombre de mots/phrases correctement tapÃ©s ;</li>
        <li> lancerJeu : cette fonction sera la fonction principale, câ€™est elle qui sâ€™occupe de lancer toutes les
            autres. En
            dâ€™autres
            termes, câ€™est elle qui va appeler les fonctions que vous venez dâ€™Ã©crire.</li>
    </ul>
    <br>
    <p>Vous pouvez vÃ©rifier votre travail en consultant la vidÃ©o ci-dessous :</p>

    <h4>Ã‰tape 2 : sÃ©parez votre code en plusieurs fichiers :</h4>
    <br>
    <ul>
        <li>SÃ©parez votre code en plusieurs fichiers.</li>
        <li>CrÃ©ez un fichier config.js qui contiendra uniquement les deux listes de propositions.</li>
        <li>CrÃ©ez un fichier main.js qui contiendra uniquement lâ€™appel Ã  la fonction principale lancerJeu.</li>
        <li>VÃ©rifiez que tout fonctionne encore.</li>
        <li>CrÃ©ez un nouveau rÃ©pertoire appelÃ© â€œscriptsâ€, et placez-y tous vos fichiers.</li>
        <li>VÃ©rifiez Ã  nouveau votre code. ğŸ˜ƒ</li>
        <li>Pour rÃ©ussir cette Ã©tape, pensez bien Ã  mettre Ã  jour le fichier HTML !</li>
    </ul>
    <br>
    <p>Pour rÃ©ussir cette Ã©tape, pensez bien Ã  mettre Ã  jour le fichier HTML !</p>






    (cf fichier JavaScript)
</body>

</html>