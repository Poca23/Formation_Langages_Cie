<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©cup√©rez un √©l√©ment d‚Äôune page web</title>
    <link rel="stylesheet" href="../../style.css">
    <script src="recupererUnElementDansUnePageWeb.js"></script>
</head>

<body>
    <h2><a href="../index.html">R√©cup√©rez un √©l√©ment d‚Äôune page web</a></h2>
    <p>Dans la partie pr√©c√©dente, nous avons d√©couvert <strong>la logique de programmation en JavaScript</strong>, et
        nous avons manipul√©
        des
        <strong>structures conditionnelles</strong>, <strong>des boucles</strong> et <strong>des fonctions</strong>.
        Nous avons fait une belle partie du chemin, mais pour
        l‚Äôinstant, nous nous sommes content√©s d‚Äô√©crire dans la console. Notre prochaine √©tape est donc de
        <strong><u>manipuler
                directement
                une page HTML pour la rendre interactive</u></strong>. Dans le cadre de notre application
        <strong>Azertype</strong>, cela
        permettra d‚Äôafficher
        en HTML
        les mots √† recopier et le score.
    </p>
    <br>
    <p>Pour appr√©hender cette √©tape, vous devez donc ma√Ætriser les fondamentaux du langage HTML. Si ce n‚Äôest pas le cas,
        je
        vous conseille fortement de suivre le cours<a
            href="https://openclassrooms.com/fr/courses/1603881-creez-votre-site-web-avec-html5-et-css3"
            target="_blank">Cr√©ez votre site web avec HTML 5 et CSS
            3</a>.</p>
    <br>
    <p>Notre premi√®re √©tape, dans ce chapitre, est d‚Äô<strong>√©tablir un lien entre le code HTML et le code
            JavaScript</strong>. Cela nous
        permettra, dans le chapitre suivant, de modifier le code HTML directement depuis notre code JavaScript. Alors,
        avant de
        rentrer dans le vif du sujet, regardons ensemble <strong>comment une page web est structur√©e</strong> ! üòâ</p>

    <h3>Appr√©hendez la structure d‚Äôune page web :</h3>
    <p>G√©n√©ralement, une page web est constitu√©e de <strong>deux parties</strong> :</p>
    <br>
    <ul>
        <li>un <strong>head</strong> qui donne des <u>informations g√©n√©rales sur la page</u> ;
        </li>
        <li>un <strong>body</strong> qui <u>contient ce qui est affich√© dans la page</u>.</li>
    </ul>
    <br>
    <p>Voici un exemple de body pour une page simple :</p>
    <img src="../../assets/FormationOpenclassroomsJavascriptExempleDeBodySimplePourPageHtml.png"
        alt="FormationOpenclassroomsJavascriptExempleDeBodySimplePourPageHtml">
    <p>Ce code HTML est simple. Il est constitu√© d‚Äôun <strong>header</strong> avec un <strong>titre</strong>, d‚Äôun
        <strong>corps (main)</strong> et d‚Äôun <strong>footer</strong>.
    </p>
    <br>
    <p>Ce code est un peu structur√© comme un arbre, c‚Äôest pourquoi on appelle cette structure l‚Äô<strong><u>arbre DOM
                (Document
                Object
                Model, ou mod√®le objet du document, en fran√ßais)</u></strong>. En fait, JavaScript ne lit pas une page
        HTML comme du simple
        texte. Il
        la repr√©sente comme une <strong>structure organis√©e en parents/enfants</strong>, et compos√©e de <strong>n≈ìuds
            qui
            repr√©sentent des
            balises</strong>.</p>
    <br>
    <p>Ouh l√† l√† l√†, √ßa devient un peu abstrait ton truc, l√†‚Ä¶ üòÖ</p>
    <br>
    <p>C‚Äôest un peu imag√© oui, mais revenons ensemble sur l‚Äôillustration de l‚Äôarbre DOM ci-dessous :</p>
    <img src="../../assets/FormationOpenclassroomsJavascriptIllustrationSructureArbreDOM.png"
        alt="FormationOpenclassroomsJavascriptIllustrationSructureArbreDOM">

    <p>Dans la structure ci-dessus :</p>
    <br>
    <ul>
        <li>le <strong>body</strong> en haut repr√©sente la <u>racine de l‚Äôarbre DOM</u> ;</li>
        <li>de cette racine se d√©ploient des <strong>branches (en bleu sur l‚Äôimage)</strong> ;</li>
        <li>ces branches <strong>m√®nent √† des n≈ìuds</strong> : <u>header, main, footer, h1, h2, div, p‚Ä¶</u> ;
        </li>
        <li>les branches <strong>se terminent g√©n√©ralement</strong> par une <strong>feuille</strong> : <u>texte</u>.
        </li>
    </ul>
    <br>
    <p>En d√©veloppement informatique, on dit que <u>header, main et footer</u> sont les <strong>noeuds enfants de
            body</strong>, et que <u>body</u> est
        <strong>le
            parent de ces n≈ìud</strong>s.
    </p>
    <br>
    <p>Chaque <strong>n≈ìud</strong> de cet <strong>arbre DOM</strong> (header, main, div‚Ä¶) est un <strong><u>objet
                HTMLElement</u></strong>. Pour le dire autrement, JavaScript a
        regroup√© <strong>dans un m√™me objet deux choses</strong> :</p>
    <br>
    <ul>
        <li>les <u>informations sur cet objet (son nom, son id, sa position, etc.)</u> : ce sont les <strong>propri√©t√©s
                de
                l‚Äôobjet</strong>;
        </li>
        <br>
        <li><u>ce que cet objet est capable de faire (r√©agir au clic, par exemple)</u> : ce sont <strong>les
                m√©thodes</strong>.</li>
    </ul>
    <br>
    <p>Dans ce cours, nous explorons plusieurs propri√©t√©s et m√©thodes, mais il en existe d‚Äôautres. Si vous voulez en
        savoir
        plus, <a href="https://developer.mozilla.org/fr/docs/Web/API/HTMLElement" target="_blank">la documentation</a>
        est √† votre disposition. üòÉ</p>

    <h3>R√©cup√©rez un √©l√©ment du DOM :</h3>
    <p>Dans ce chapitre, notre but est de r√©cup√©rer certains √©l√©ments de l‚Äôarbre DOM, qui a pour racine la balise body.
        Cependant, vous vous souvenez peut-√™tre que <u>nos fichiers JavaScript sont stock√©s dans la balise head</u>, qui
        se
        situe <strong>avant
            le body</strong>.</p>
    <br>

    <h4>Utilisez defer pour diff√©rer l‚Äôex√©cution du script :</h4>
    <p>Pour <strong>manipuler le DOM</strong>, JavaScript doit ainsi <strong>construire une variable globale,
            <u>document</u></strong>, qui est donc <strong>accessible</strong>
        depuis
        <u>n‚Äôimporte o√π dans notre code</u>.
        <br><br>
        Cependant, pour construire cette variable, <u>la page HTML doit √™tre charg√©e
            en
            entier</u>. Or,
        <u>le script √©tant lanc√© dans la balise head, avant que le body ne s‚Äôaffiche √† l‚Äô√©cran, la page HTML n‚Äôexiste
            pas
            encore</u>.
        Nous devons donc attendre que la page ait fini de charger avant d‚Äôutiliser la variable document.
    </p>
    <br>
    <p>Pour r√©soudre ce probl√®me, la m√©thode la plus efficace est d‚Äô <strong>ajouter le <u>mot-cl√© defer</u> dans la
            balise script</strong>.
        Concr√®tement, cela revient √† demander au navigateur ‚ÄúSi tu rencontres la balise script, <strong>diff√®re</strong>
        sa prise en
        compte et
        attends que la page soit charg√©e.‚Äù <i>(cf : applicationAzertyType)</i>
    </p>

    <h4>Utilisez diff√©rentes syntaxes pour r√©cup√©rer un √©l√©ment :</h4>
    <p>JavaScript propose tout un <strong>√©ventail de m√©thodes</strong> pour <u>r√©cup√©rer les √©l√©ments du DOM</u>. Dans
        ce chapitre, nous en
        aborderons
        trois :</p>
    <br>
    <ul>
        <li><strong>getElementById</strong> ;</li>
        <li><strong>querySelector</strong> ;</li>
        <li><strong>querySelectorAll</strong>.</li>
    </ul>
    <br>
    <p>Il existe bien s√ªr d‚Äôautres m√©thodes, et je vous invite d‚Äôailleurs √† les d√©couvrir par vous-m√™me. L‚Äôessentiel est
        de
        <strong>choisir la m√©thode la plus adapt√©e √† la probl√©matique suivante</strong> :
        <br>
        cibler le ou les √©l√©ments qui nous int√©ressent
        au
        milieu d‚Äôune page HTML souvent tr√®s cons√©quente.
    </p>
    <br>
    <h5>R√©cup√©rez un √©l√©ment avec <strong>getElementById</strong> :</h5>
    <p>La premi√®re m√©thode, et probablement la plus simple, est getElementById. Comme son nom l‚Äôindique, elle permet de
        <strong>r√©cup√©rer un √©l√©ment en fournissant son id en param√®tre</strong>.
    </p>
    <br>
    <p>Dans notre application par exemple, nous affichions jusqu‚Äô√† maintenant le mot √† recopier dans le texte du prompt.
        D√©sormais, notre <u>objectif</u> est de l‚Äô<strong>afficher dans une zone de la page d√©di√©e</strong>.</p>
    <br>
    <p>Pour cela, nous pouvons commencer par cr√©er une div dans le HTML. Pour la distinguer des autres, nous lui
        fournissons un
        id : <i>(cf : applicationAzertyType)</i></p>
    <br>
    <p>Pour <strong>acc√©der √† cette balise</strong>, nous allons donc √©crire : <i>(cf : script2.js)</i></p>
    <br>
    <p>Ici, nous avons demand√© √† JavaScript, <strong>depuis document</strong>, donc <strong>toute la page</strong> :
        ‚ÄúTrouve-moi un √©l√©ment HTML qui a
        pour id
        zoneProposition‚Äù. Puis nous avons mis le <strong>r√©sultat dans la variable baliseZoneProposition</strong>.
        <br><br>
        Quand nous faisons un <strong>console.log de cette variable</strong>, nous constatons bien le contenu de notre
        variable
        baliseZoneProposition, et <strong>nous retrouvons bien notre div</strong> :
    </p>
    <br>
    <p>Cette <strong>variable</strong> est un <strong>objet de type HTMLElement</strong>. Si nous cliquons sur le petit
        triangle √† c√¥t√© de cette div pour
        d√©ployer le contenu, les d√©tails de cet objet HTMLElement vont s‚Äôafficher, comme dans la capture d‚Äô√©cran
        ci-dessous.</p>
    <img src="../../assets/FormationOpenclassroomsJavascriptD√©tailDUnObjetHTMLElement.png"
        alt="FormationOpenclassroomsJavascriptD√©tailDUnObjetHTMLElement">
    <p>Ah oui‚Ä¶. Ca fait beaucoup d'informations, tout √ßa !</p>
    <br>
    <p>Eh oui‚Ä¶ JavaScript propose beaucoup de propri√©t√©s et de m√©thodes sur les objets HTLMElement. Pour vous, ce sont
        autant
        d‚Äôopportunit√©s d‚Äôaller les piocher en fonction de vos besoins !
        <br><br>
        Enfin, comme pour n‚Äôimporte quel objet en JavaScript, <strong>vous pouvez acc√©der aux propri√©t√©s de votre n≈ìud
            gr√¢ce au
            point
            ‚Äú.‚Äù</strong> .
        <br><br>
        Par exemple, pour afficher la hauteur de l‚Äô√©l√©ment dans votre console, vous pouvez √©crire :
    </p>

    <h5>R√©cup√©rez un √©l√©ment <strong>QuerySelector</strong> :</h5>
    <p>Lorsqu‚Äôon a un id sur nos √©l√©ments, document.getElementById est une bonne option pour les r√©cup√©rer.
        Malheureusement, il
        arrive r√©guli√®rement que √ßa ne soit pas le cas !</p>
    <br>
    <p>JavaScript a donn√© une r√©ponse particuli√®rement intuitive √† ce probl√®me : utiliser les s√©lecteurs CSS. En gros,
        si vous
        savez d√©signer un √©l√©ment en CSS, alors <strong>il vous suffit de reprendre exactement la m√™me syntaxe</strong>
        ! üòÉ</p>
    <br>
    <p>Modifions l√©g√®rement le contenu de notre page HTML pour illustrer cela : <i>(cf : applicationAzertyType)</i></p>
    <br>
    <p>Pour mettre le mot Cachalot en gras en CSS, nous aurions √©crit :
        <br><br>
        <strong>
            #zoneProposition span {<br>
            font-weight: bold; <br>
            }
        </strong>
        <br>
    <p>Ce code signifie : ‚ÄúIl faut mettre <strong>la police d‚Äô√©criture en gras</strong> pour <strong>tous les span
            contenus dans
            un √©l√©ment qui a
            l‚Äôid
            zoneProposition</strong>.‚Äù</p>
    </p>
    <br>
    <p>querySelector nous permet de trouver le premier √©l√©ment qui correspond au s√©lecteur CSS propos√© : <i>(cf :
            script2.js)</i></p>
    <br>
    <p>Et voil√† le r√©sultat ci-dessus : nous voyons dans la console que nous avons bien trouv√©
        notre
        span.</p>
    <br>
    <p>Notez que <strong># est pr√©sent devant l‚Äôid</strong>, comme on l‚Äô√©crirait en CSS, alors que <strong>ce # n‚Äô√©tait
            pas n√©cessaire avec
            getElementById</strong>.</p>

    <h5>R√©cup√©rez plusieurs √©l√©ments avec <strong>QuerySelectorAll</strong> :</h5>
    <p>Ici, le principe est le m√™me que pour <strong>tous les √©l√©ments dans une liste de type NodeList</strong> (ou
        liste de n≈ìuds, en
        fran√ßais).</p>
    <br>
    <p>Modifions √† nouveau notre body : <i>(cf : applicationAzertyType)</i></p>
    <br>
    <p>Dans ce code, j‚Äôai ajout√© une <strong>nouvelle div</strong> avec la <strong>classe zoneChoix</strong>. Cette div
        contient <strong>deux inputs de type
            radio</strong>.
        <br><br>
        Pour <strong>r√©cup√©rer</strong> tous les <strong>inputs de type radio d‚Äôun seul coup</strong>, je peux donc
        √©crire : <i>(cf : script2.js)</i>
    </p>
    <br>
    <p>Et voici le r√©sultat : nous obtenons une NodeList.</p>
    <img src="../../assets/FormationOpenclassroomsjavascriptQuerySelectorAllNodeList.png"
        alt="FormationOpenclassroomsjavascriptQuerySelectorAllNodeList">
    <p>Nous voyons bien ici notre NodeList. Pour reprendre l‚Äôimage de l‚Äôarbre DOM, <strong>JavaScript</strong> a
        s√©lectionn√© dans cet
        arbre <strong>les
            n≈ìuds qui correspondent √† notre s√©lecteur CSS</strong>.</p>
    <br>
    <p>Nous allons devoir <strong>parcourir les diff√©rents √©l√©ments de cette liste un par un pour y acc√©der</strong>.
        Nous utiliserons
        donc une
        <strong>boucle</strong> : <i>(cf : script2.js)</i>
    </p>
    <br>
    <p>Et voil√† le r√©sultat, nous retrouvons bien le d√©tail de tous nos √©l√©ments :</p>
    <img src="../../assets/FormationOpenclassroomsjavascriptBoucleNodeListe.png"
        alt="FormationOpenclassroomsjavascriptBoucleNodeListe">











    <br><br><br><br><br><br><br><br><br><br>
    <i>(cf : applicationAzertyType)</i>
    <i>(cf : script2.js)</i>
    <i>(cf : config.js)</i>
    <i>(cf : main.js)</i>
    <i>(cf : script.js)</i>
</body>

</html>