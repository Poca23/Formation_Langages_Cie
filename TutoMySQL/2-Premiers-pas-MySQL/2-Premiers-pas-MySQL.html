<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1. Introduction à MySQL et VS Code</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
</head>

<body>
    <header>
        <h1>1. Introduction à MySQL et VS Code
        </h1>
        <p>Système Linux/Ubuntu - IDE VS Code - 25/01/17</p>
    </header>
    <a href="../MySQL-BDD-Sommaire.html">Retour au Sommaire</a>

    <main>
        <section class="collapsible">
            <h2 class="collapsible-header">A. Création d'une base de données</h2>
            <div class="collapsible-content">
                <p>Pour commencer à travailler avec MySQL, il est essentiel de savoir où et comment exécuter les
                    commandes. Voici un guide détaillé pour cela.
                </p>
                <ol>
                    <li><b>Où se trouve-t-on ?</b>
                        <br>
                        Dans VS Code :
                        Si tu utilises VS Code comme éditeur, tu peux configurer un terminal intégré pour travailler
                        avec MySQL. Il est souvent plus pratique d'exécuter les commandes directement dans le terminal
                        intégré ou en utilisant une extension MySQL pour interagir avec la base de données.
                        <br><br>
                        Voici comment procéder :
                        <ol>
                            <li>Ouvrir le terminal intégré dans VS Code :
                                <br>
                                Dans VS Code, ouvre le terminal intégré avec <code>Ctrl + t</code>.
                            </li>
                            <li>Se connecter à MySQL :
                                <br>
                                Avant de pouvoir créer une base de données, tu dois te connecter à ton serveur MySQL.
                                Tape la commande suivante dans le terminal de VS Code :
                                <pre>
                                    <code>
bash
mysql -u root -p
                                    </code>
                                </pre>
                                <ul>
                                    <li><code>-u root</code> signifie que tu te connectes avec l'utilisateur root (par
                                        défaut, l'utilisateur administrateur).</li>
                                    <li><code>-p</code> te demandera de saisir ton mot de passe MySQL.</li>
                                </ul>
                                Si tout va bien, tu seras connecté à MySQL et tu verras une invite de commande qui
                                ressemble à ceci :
                                <br>
                                <pre>
                                    <code>
shell
mysql>
                                    </code>
                                </pre>
                                Cela signifie que tu es dans l'interface de commande MySQL, prête à exécuter des
                                requêtes SQL.
                            </li>
                        </ol>
                    </li>
                    <li><b>Création de la base de données :</b>
                        <br>
                        Maintenant que tu es dans MySQL, tu peux créer une nouvelle base de données.
                        <ol>
                            <li>Création de la base de données :
                                <br>
                                <ul>
                                    <li>Dans le terminal MySQL, tape la commande suivante pour créer une nouvelle base
                                        de données (par exemple, blog_cinema) :
                                        <pre>
                                            <code>
sql
CREATE DATABASE blog_cinema;
                                            </code>
                                        </pre>

                                    </li>
                                    <li>Si la commande réussit, tu ne verras pas de message détaillé, mais tu reviendras
                                        simplement à l'invite <code>mysql></code>.</li>
                                </ul>
                            </li>
                            <li>Vérification de la création de la base :
                                <br>
                                <ul>
                                    <li>Pour vérifier que ta base de données a bien été créée, tu peux utiliser la
                                        commande suivante :
                                        <br>
                                        <pre>
                                            <code>
sql
SHOW DATABASE;
                                            </code>
                                        </pre>
                                    </li>
                                    <li>Cette commande affichera une liste de toutes les bases de données existantes, et
                                        tu devrais voir <code>blog_cinema</code> dans cette liste.</li>
                                </ul>
                            </li>
                            <li>Sélectionner la base de données :
                                <br>
                                <ul>
                                    <li>Une fois la base de données créée, tu dois la sélectionner pour commencer à y
                                        travailler. Utilise la commande :
                                        <pre>
                                            <code>
sql
USE blog_cinema;
                                            </code>
                                        </pre>
                                    </li>
                                    <li>Si tu réussis, tu verras un message comme ceci :
                                        <br>
                                        <pre>
                                            <code>
sql
Database changed
                                            </code>
                                        </pre>
                                    </li>
                                </ul>
                            </li>
                        </ol>
                        Cela signifie que tu es maintenant dans la base de données <code>blog_cinema</code>, prête à y
                        créer des
                        tables et à insérer des données.
                    </li>
                </ol>
            </div>
        </section>



        <section class="collapsible">
            <h2 class="collapsible-header">B. Création de tables (exemple : données du projet Blog-Cinéma)</h2>
            <div class="collapsible-content">
                <ol>
                    <li>Où se trouve-t-on ?
                        <ul>
                            <li>Nous allons travailler dans le terminal intégré de VS Code ou directement dans le
                                terminal si tu préfères. Cela dépend de la configuration que tu as, mais les étapes sont
                                les mêmes.</li>
                            <li>Si tu es dans le terminal intégré de VS Code, tu es déjà connecté à MySQL, comme nous
                                l'avons vu dans la section précédente.</li>
                        </ul>

                        <br>
                    </li>
                    <li>Définir une table dans MySQL
                        <br>
                        Une fois que tu es dans la base de données (<code>USE blog_cinema;</code>), tu peux créer des
                        tables pour
                        organiser les données. Une table est une structure qui contient des colonnes et des lignes.
                        <br>
                        <br>
                        Pour l'exemple, imaginons que tu veuilles créer une table <code>films</code> pour stocker des
                        informations
                        sur les films du blog cinéma. La table pourrait contenir des colonnes comme : <code>id, titre,
                        année_sortie, genre, etc</code>.
                        <br>
                        <br>
                        Voici la commande pour créer une table simple avec quelques colonnes :
                        <pre>
                            <code>
sql
CREATE TABLE films (
    id INT AUTO_INCREMENT PRIMARY KEY,
    titre VARCHAR(255) NOT NULL,
    annee_sortie INT,
    genre VARCHAR(100)
);
                            </code>
                        </pre>
                        <b>Explication de la commande :</b>
                        <ul>
                            <li><code><b>CREATE TABLE films</b></code> - Crée une table nommée films.</li>
                            <li><code><b>id INT AUTO_INCREMENT PRIMARY KEY</b></code> - Une colonne id de type entier,
                                qui s'incrémente
                                automatiquement à chaque nouvel enregistrement et qui est la clé primaire (c'est-à-dire
                                un
                                identifiant unique pour chaque film).</li>
                            <li><code><b>titre VARCHAR(255) NOT NULL</b></code> - Une colonne titre qui contient du
                                texte, avec une longueur
                                maximale de 255 caractères. Cette colonne est obligatoire (ne peut pas être vide).</li>
                            <li><code><b>annee_sortie INT</b></code> - Une colonne pour l'année de sortie du film (de
                                type entier).</li>
                            <li><code><b>genre VARCHAR(100)</b></code> - Une colonne pour le genre du film (de type
                                chaîne de caractères,
                                avec
                                une longueur maximale de 100 caractères).</li>
                        </ul>
                        <br>
                    </li>
                    <li>Où se trouve-t-on pour créer la table ?
                        <ul>
                            <li>Assure-toi d'être dans le terminal MySQL, dans ta base de données
                                <code>blog_cinema</code> (tu peux
                                le vérifier avec la commande <code>SHOW TABLE</code>S; pour voir les tables existantes).
                            </li>
                            <li>Une fois la commande <code>CREATE TABLE</code> prête, tu peux l'exécuter directement
                                dans le terminal de MySQL.</li>
                        </ul>
                        <br>
                    </li>
                    <li>Exécuter la commande de création de la table
                        <br>
                        Dans le terminal MySQL, tape la commande ci-dessus et
                        appuie sur Entrée. Si tout va bien, tu verras un message indiquant que la table a été créée avec
                        succès
                        (pas de message détaillé, mais juste l'invite mysql> qui revient).
                        <br>
                        <br>
                    </li>
                    <li>Vérification de la table créée
                        <br>
                        Après avoir créé la table, tu peux vérifier qu'elle existe bien en
                        exécutant la commande :
                        <pre>
                    <code>
sql
SHOW TABLES;
                    </code>
                </pre>
                        Cette commande affichera toutes les tables dans la base de données blog_cinema. Tu devrais voir
                        films dans la liste.
                        <br><br>
                    </li>
                    <li>Vérifier les colonnes de la table
                        <br>
                        Pour voir les colonnes de la table films (et leurs types), tu peux
                        utiliser la commande suivante :
                        <pre>
                            <code>
sql
DESCRIBE films;
                            </code>
                        </pre>
                        Cela affichera une liste des colonnes avec leurs types et autres informations, comme NULL (si la
                        colonne peut être vide) et PRI pour la clé primaire.
                    </li>
                </ol>
            </div>
        </section>



        <section class="collapsible">
            <h2 class="collapsible-header">C. Insertion et gestion des données</h2>
            <div class="collapsible-content">
                <ol>
                    <li>Insertion de données dans la table
                        <br>
                        Une fois que tu as créé ta table (par exemple, films), tu peux commencer à y insérer des
                        données.
                        <br>
                        <br>
                        Syntaxe de <code>INSERT INTO</code>
                        <br>
                        La commande <code>INSERT INTO</code> permet d'ajouter des données dans une table. La syntaxe
                        générale est :
                        <pre>
                            <code>
sql
INSERT INTO table_name (colonne1, colonne2, ...)
VALUES (valeur1, valeur2, ...);
                            </code>
                        </pre>
                        Exemple avec ta table <code>films</code> :
                        <pre>
                            <code>
sql
INSERT INTO films (titre, annee_sortie, genre)
VALUES ('Inception', 2010, 'Science-fiction');
                            </code>
                        </pre>
                        Cette commande insère un nouveau film avec le titre "Inception", l'année de sortie 2010, et le
                        genre "Science-fiction" dans la table <code>films</code>.
                        <br><br>
                    </li>
                    <li>Insertion de plusieurs enregistrements
                        Tu peux également insérer plusieurs enregistrements en une seule commande, comme ceci :
                        <pre>
                            <code>
sql
INSERT INTO films (titre, annee_sortie, genre)
VALUES 
  ('Inception', 2010, 'Science-fiction'),
  ('The Dark Knight', 2008, 'Action'),
  ('Interstellar', 2014, 'Science-fiction');
                            </code>
                        </pre>
                        Cela insère trois films en une seule opération.
                        <br><br>
                    </li>
                    <li>Vérification des données insérées
                        Pour vérifier que les données ont bien été insérées, tu peux utiliser la commande SELECT :
                        <pre>
                            <code>
sql
SELECT * FROM films;
                            </code>
                        </pre>
                        Cela affichera toutes les lignes de la table <code>films</code>. Si l'insertion a réussi, tu
                        verras les films
                        que tu viens d'ajouter.
                        <br><br>
                    </li>
                    <li>Mise à jour des données avec <code>UPDATE</code>
                        Si tu veux modifier des données existantes dans la table, tu peux utiliser la commande
                        <code>UPDATE</code>.
                        Par exemple, pour changer le genre de "Inception" en "Action" :
                        <pre>
                            <code>
sql
UPDATE films
SET genre = 'Action'
WHERE titre = 'Inception';
                            </code>
                        </pre>
                        <br><br>
                    </li>
                    <li>Suppression de données avec <code>DELETE</code>
                        Pour supprimer un enregistrement, tu peux utiliser la commande DELETE. Par exemple, pour
                        supprimer "Inception" de la table :
                        <pre>
                            <code>
sql
DELETE FROM films
WHERE titre = 'Inception';
                            </code>
                        </pre>
                        <b>Attention : Si tu omets la condition WHERE, toutes les lignes de la table seront supprimées,
                            donc fais bien attention à l'utiliser !</b>
                        <br><br>
                    </li>
                </ol>
            </div>
        </section>

        <section class="collapsible">
            <h2 class="collapsible-header">D. Gestion des clés étrangères et relations entre les tables</h2>
            <div class="collapsible-content">
                <ol>
                    <li><b>Concept des clés étrangères</b>
                        <br>
                        Une clé étrangère (foreign key) permet d'établir une relation entre deux tables. Elle pointe
                        vers la clé primaire d'une autre table, assurant l'intégrité des données.
                        <br>
                        Exemple dans votre projet React Blog-Cinéma :
                        <ul>
                            <li>Une table <code>films</code> pour stocker les films.</li>
                            <li>Une table <code>genres</code> pour classifier les films par genre (action, comédie,
                                etc.).</li>
                            <li>La table films contient une clé étrangère qui fait référence à la clé primaire de
                                genres.</li>
                        </ul>
                        <br><br>
                    </li>
                    <li><b>Création des tables avec relations</b>
                        <br>
                        Commençons avec deux tables simples :
                        <ul>
                            <li><code>genres</code> : contient la liste des genres de films.</li>
                            <li><code>films</code> : contient les informations des films, avec une relation à genres
                            </li>
                        </ul>
                        <b>Création de la table <code>genres</code></b> :
                        <pre>
                            <code>
sql
CREATE TABLE genres (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(50) NOT NULL
);
                            </code>
                        </pre>
                        <b>Création de la table <code>films</code> avec une clé étrangère</b> :
                        <pre>
                            <code>
sql
CREATE TABLE films (
    id INT AUTO_INCREMENT PRIMARY KEY,
    titre VARCHAR(255) NOT NULL,
    annee_sortie INT,
    id_genre INT, 
    FOREIGN KEY (id_genre) REFERENCES genres(id)
);
                            </code>
                        </pre>
                    </li>
                    <li><b>Explications des commandes</b>
                        <br>
                        <ul>
                            <li><code>id_genre INT</code> : C'est la colonne dans <code>films</code> qui stocke
                                l'identifiant d'un
                                genre.</li>
                            <li><code>FOREIGN KEY (id_genre) REFERENCES genres(id)</code> :
                                <ul>
                                    <li>Déclare <code></code>id_genre comme clé étrangère.</li>
                                    <li>Elle pointe vers la colonne <code>id</code> de la table <code>genres</code>.
                                    </li>
                                </ul>
                            </li>
                            <li>Grâce à cette relation, vous ne pouvez pas insérer un film avec un id_genre inexistant
                                dans la table <code>genres</code>.
                            </li>
                        </ul>
                        <br><br>
                    </li>
                    <li><b>Insertion de données pour tester</b>
                        <br>
                        Insérons des données dans <code>genres</code> et <code>films</code> :
                        <br>
                        <b>Ajout de genres :</b>
                        <pre>
                            <code>
sql
INSERT INTO genres (nom) VALUES ('Action'), ('Comédie'), ('Drame');
                            </code>
                        </pre>
                        <b>Ajout de films avec des références à <code>genres</code> :</b>
                        <pre>
                            <code>
sql
INSERT INTO films (titre, annee_sortie, id_genre) 
VALUES 
    ('Inception', 2010, 1), 
    ('The Hangover', 2009, 2), 
    ('The Pursuit of Happyness', 2006, 3);
                            </code>
                        </pre>
                    </li>
                    <li><b>Vérifications</b>
                        <br>
                        <ol>
                            <li>Affichez les données dans <code>genres</code> et <code>films</code> pour voir si tout
                                est correct :
                                <pre>
                            <code>
sql
SELECT * FROM genres;
SELECT * FROM films;
                            </code>
                        </pre>
                            </li>
                            <li>Testez l'intégrité des données :
                                <br>
                                <ul>
                                    <li>Essayez d'ajouter un film avec un <code>id_genre</code> inexistant, par exemple
                                        <code>999</code> :
                                        <pre>
                                            <code>
sql
INSERT INTO films (titre, annee_sortie, id_genre) 
VALUES ('Invalid Film', 2025, 999);
                                            </code>
                                        </pre>
                                    </li>
                                    <li>Cela générera une erreur, car 999 n'existe pas dans genres.</li>
                                </ul>
                            </li>
                        </ol>
                        <br><br>
                    </li>
                    <li><b>À vous de jouer</b>
                        <br>
                        <ol>
                            <li>Créez les deux tables (genres et films).</li>
                            <li>Insérez les données proposées.</li>
                            <li>Vérifiez les relations avec quelques tests.</li>
                        </ol>
                    </li>
                </ol>
            </div>
        </section>


    </main>

    <footer>
        <p>&copy; 2025 Cours MySQL - BDD - en HTML, CSS et JavaScript - CND</p>
    </footer>
</body>

</html>