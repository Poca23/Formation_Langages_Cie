<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cours Spring Boot</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

</head>

<body>
    <nav>
        <div class="logo">
            <img src="https://raw.githubusercontent.com/spring-projects/spring-framework/main/framework-docs/src/docs/spring-framework.png"
                alt="Spring Logo" class="logo">
        </div>
        <button class="burger-menu" title="Menu">
            <i class="fas fa-bars"></i>
        </button>

        <ul class="nav-links">
            <li class="has-submenu">Cours
                <ul class="submenu">
                    <li><a href="#introduction">Introduction</a></li>
                    <li><a href="#composants">Les composants principaux</a></li>
                    <li><a href="#methodes">Les mÃ©thodes HTTP</a></li>
                    <li><a href="#bean">Les Beans</a></li>
                    <li><a href="#contraintes">Les contraintes de validation</a></li>
                    <li><a href="#cors">CORS (Cross Origin Ressources Sharing)</a></li>
                    <li><a href="#env-variables">Les variables d'environnement</a></li>
                    <li><a href="#auth-jwt">Mise en place de l'authentification - JWT</a></li>
                    <li><a href="#spring-security-intro">Introduction Ã  Spring Security</a></li>
                    <li><a href="#pratique">Pratique</a></li>
                    <li><a href="#concepts">Concepts ClÃ©s</a></li>
                </ul>
            </li>
            <li><a href="#http-errors">Les codes d'Ã‰tat HTTP</a></li>
            <li><a href="#exercices">Exercices</a></li>
            <li><a href="#ressources">Ressources</a></li>
        </ul>
        <button id="themeToggle" title="Toggle Theme">
            <i class="fas fa-moon"></i>
        </button>
    </nav>

    <main class="container">
        <!--Introduction -->
        <section id="introduction" class="section">
            <h1>Spring Boot</h1>
            <div class="card" id="introCard">
                <h2>Qu'est-ce que Spring Boot ?</h2>
                <p>Spring Boot est un projet de la Spring Framework qui simplifie le processus de crÃ©ation
                    d'applications Spring.
                    Il permet aux dÃ©veloppeurs de dÃ©marrer rapidement avec un minimum de configuration.</p>
                <ul class="features-list">
                    <li>Configuration automatique</li>
                    <li>Serveur embarquÃ©</li>
                    <li>MÃ©triques et monitoring</li>
                    <li>Production-ready</li>
                </ul>
                <button class="info-btn">En savoir plus</button>
            </div>

            <div class="card" id="prerequisCard">
                <h2>PrÃ©requis</h2>
                <ul>
                    <li>Java 8 ou supÃ©rieur</li>
                    <li>Maven ou Gradle</li>
                    <li>Connaissances en Java</li>
                    <li>IDE (IntelliJ IDEA, Eclipse, VS Code)</li>
                </ul>
                <button class="info-btn">DÃ©tails des versions</button>
            </div>
        </section>


        <!-- Les composants principaux -->
        <section id="composants" class="section">
            <h2>Composants Principaux de Spring Boot</h2>

            <!-- Section EntitÃ©s -->
            <div class="subsection">
                <h3>1. Les EntitÃ©s (Entities)</h3>
                <div class="concept-card">
                    <i class="fas fa-database"></i>
                    <p>Les entitÃ©s sont des classes Java qui reprÃ©sentent les tables de la base de donnÃ©es.</p>
                    <div class="code-section">
                        <pre><code>
        @Entity
        @Table(name = "users")
        public class User {
            @Id
            @GeneratedValue(strategy = GenerationType.IDENTITY)
            private Long id;
        
            @Column(nullable = false)
            private String username;
        
            @Column(nullable = false)
            private String email;
        
            // Getters et Setters
        }
                        </code></pre>
                    </div>
                    <ul class="features-list">
                        <li>@Entity : Marque la classe comme une entitÃ© JPA</li>
                        <li>@Table : SpÃ©cifie le nom de la table</li>
                        <li>@Id : DÃ©finit la clÃ© primaire</li>
                        <li>@Column : Configure les propriÃ©tÃ©s de la colonne</li>
                    </ul>
                </div>
            </div>

            <!-- Section DAOs/Repositories -->
            <div class="subsection">
                <h3>2. Les DAOs/Repositories</h3>
                <div class="concept-card">
                    <i class="fas fa-layer-group"></i>
                    <p>Les repositories fournissent les mÃ©thodes d'accÃ¨s aux donnÃ©es.</p>
                    <div class="code-section">
                        <pre><code>
        @Repository
        public interface UserRepository extends JpaRepository<User, Long> {
            Optional<User> findByEmail(String email);
            List<User> findByUsernameContaining(String username);
            boolean existsByEmail(String email);
        }
                        </code></pre>
                    </div>
                    <ul class="features-list">
                        <li>HÃ©ritage de JpaRepository pour les opÃ©rations CRUD</li>
                        <li>MÃ©thodes personnalisÃ©es avec convention de nommage</li>
                        <li>RequÃªtes personnalisÃ©es avec @Query</li>
                    </ul>
                </div>
            </div>

            <!-- Section Controllers -->
            <div class="subsection">
                <h3>3. Les Controllers</h3>
                <div class="concept-card">
                    <i class="fas fa-server"></i>
                    <p>Les controllers gÃ¨rent les requÃªtes HTTP et dÃ©finissent les endpoints de l'API.</p>
                    <div class="code-section">
                        <pre><code>
        @RestController
        @RequestMapping("/api/users")
        public class UserController {
            @Autowired
            private UserService userService;
        
            @GetMapping("/{id}")
            public ResponseEntity<User> getUser(@PathVariable Long id) {
                return userService.getUser(id)
                    .map(ResponseEntity::ok)
                    .orElse(ResponseEntity.notFound().build());
            }
        
            @PostMapping
            public ResponseEntity<User> createUser(@Valid @RequestBody User user) {
                return new ResponseEntity<>(userService.createUser(user), 
                    HttpStatus.CREATED);
            }
        }
                        </code></pre>
                    </div>
                    <ul class="features-list">
                        <li>@RestController combine @Controller et @ResponseBody</li>
                        <li>@RequestMapping dÃ©finit le chemin de base</li>
                        <li>Annotations HTTP pour les mÃ©thodes</li>
                    </ul>
                </div>
            </div>

            <!-- Section Services -->
            <div class="subsection">
                <h3>4. Les Services</h3>
                <div class="concept-card">
                    <i class="fas fa-cogs"></i>
                    <p>Les services contiennent la logique mÃ©tier de l'application.</p>
                    <div class="code-section">
                        <pre><code>
    @Service
    public class UserService {
        @Autowired
        private UserRepository userRepository;

        public User createUser(User user) {
            // Validation mÃ©tier
            if (userRepository.existsByEmail(user.getEmail())) {
                throw new BusinessException("Email dÃ©jÃ  utilisÃ©");
            }
            
            // Logique mÃ©tier
            user.setCreatedDate(LocalDateTime.now());
            return userRepository.save(user);
        }

        public Optional<User> getUser(Long id) {
            return userRepository.findById(id);
        }
    }
            </code></pre>
                    </div>
                    <ul class="features-list">
                        <li>@Service : Marque la classe comme un service Spring</li>
                        <li>Contient la logique mÃ©tier</li>
                        <li>Orchestre les opÃ©rations entre Controllers et Repositories</li>
                        <li>GÃ¨re les transactions avec @Transactional</li>
                    </ul>
                </div>
            </div>

            <!-- SchÃ©ma GÃ©nÃ©ral Architecture -->
            <div class="subsection">
                <h3>Cycle Complet d'une RequÃªte</h3>
                <div class="concept-card">
                    <i class="fas fa-exchange-alt"></i>
                    <div class="code-section">
                        <pre><code>
                                                    REQUEST                                                             RESPONSE
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚          â”‚ â”€â”€â”€â–º â”‚                     Spring Boot Application                  â”‚ â”€â”€â”€â–º â”‚          â”‚
                    â”‚  Client  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  Client  â”‚
                    â”‚  (HTTP)  â”‚          â”‚              â”‚              â”‚               â”‚                   â”‚  (HTTP)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â–¼              â–¼              â–¼               â–¼                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â–²
                                    â”‚Controllerâ”‚    â”‚ Service  â”‚   â”‚Repositoryâ”‚   â”‚  Entity  â”‚                 â”‚
                                    â”‚  (REST)  â”‚â”€â”€â”€â–ºâ”‚(Business)â”‚â”€â”€â–ºâ”‚  (DAO)  â”‚â”€â”€â–ºâ”‚  Model   â”‚                 â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
                                         â”‚               â”‚              â”‚               â”‚                        â”‚
                                         â”‚               â”‚              â”‚               â”‚                        â”‚
                                         â”‚               â”‚              â–¼               â”‚                        â”‚
                                         â”‚               â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚                        â”‚
                                         â”‚               â”‚         â”‚Database  â”‚         â”‚                        â”‚
                                         â”‚               â”‚         â”‚  (SQL)   â”‚         â”‚                        â”‚
                                         â”‚               â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚                        â”‚
                                         â”‚               â”‚              â–²               â”‚                        â”‚
                                         â”‚               â”‚              â”‚               â”‚                        â”‚
                                         â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚                        â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
                    </div>

                    <ul class="features-list">
                        <li>Client envoie requÃªte HTTP (GET, POST, PUT, DELETE)</li>
                        <li>Controller reÃ§oit la requÃªte et valide les donnÃ©es</li>
                        <li>Service applique la logique mÃ©tier</li>
                        <li>Repository prÃ©pare les opÃ©rations de base de donnÃ©es</li>
                        <li>Entity dÃ©finit la structure des donnÃ©es</li>
                        <li>Database stocke/rÃ©cupÃ¨re les donnÃ©es</li>
                        <li>Les donnÃ©es remontent la chaÃ®ne</li>
                        <li>Service traite les donnÃ©es rÃ©cupÃ©rÃ©es</li>
                        <li>Controller formate la rÃ©ponse</li>
                        <li>Client reÃ§oit la rÃ©ponse HTTP</li>
                    </ul>

                    <div class="concept-card">
                        <h4>DÃ©tail des ResponsabilitÃ©s</h4>
                        <ul class="features-list">
                            <li><strong>Controller</strong>
                                <ul>
                                    <li>Gestion des endpoints REST</li>
                                    <li>Validation des requÃªtes</li>
                                    <li>Routage vers les services appropriÃ©s</li>
                                    <li>Formatage des rÃ©ponses HTTP</li>
                                </ul>
                            </li>
                            <li><strong>Service</strong>
                                <ul>
                                    <li>Logique mÃ©tier</li>
                                    <li>Transactions</li>
                                    <li>Orchestration des opÃ©rations</li>
                                    <li>Transformation des donnÃ©es</li>
                                </ul>
                            </li>
                            <li><strong>Repository</strong>
                                <ul>
                                    <li>OpÃ©rations CRUD</li>
                                    <li>RequÃªtes personnalisÃ©es</li>
                                    <li>Mapping Object-Relationnel</li>
                                </ul>
                            </li>
                            <li><strong>Entity</strong>
                                <ul>
                                    <li>Mapping avec la base de donnÃ©es</li>
                                    <li>Validation des donnÃ©es</li>
                                    <li>Relations entre entitÃ©s</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="concept-card">
                        <h4>Flux de DonnÃ©es Typique</h4>
                        <ul class="features-list">
                            <li>â¬‡ï¸ Flux descendant (Request)
                                <ul>
                                    <li>Validation des donnÃ©es d'entrÃ©e</li>
                                    <li>Transformation en objets mÃ©tier</li>
                                    <li>Persistance des donnÃ©es</li>
                                </ul>
                            </li>
                            <li>â¬†ï¸ Flux montant (Response)
                                <ul>
                                    <li>RÃ©cupÃ©ration des donnÃ©es</li>
                                    <li>Transformation en DTOs</li>
                                    <li>Formatage de la rÃ©ponse</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>


        <!-- Les mÃ©thodes HTTP -->
        <section id="methodes" class="section">
            <h2>Les MÃ©thodes HTTP</h2>
            <!-- Section MÃ©thodes HTTP -->
            <div class="subsection">
                <h3>5. Les MÃ©thodes HTTP</h3>
                <div class="concept-card">
                    <i class="fas fa-exchange-alt"></i>

                    <!-- GET -->
                    <h4>GET</h4>
                    <div class="code-section">
                        <pre><code>
Client                    Serveur
   â”‚        GET /users       â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
   â”‚                        â”‚ [Lecture]
   â”‚       [DonnÃ©es]        â”‚
   â”‚   [Status: 200 OK]     â”‚
   â”‚   [Error: 404 Not Found]â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
        </code></pre>
                    </div>
                    <p>UtilisÃ© pour rÃ©cupÃ©rer des donnÃ©es sans les modifier</p>

                    <!-- POST -->
                    <h4>POST</h4>
                    <div class="code-section">
                        <pre><code>
Client                    Serveur
   â”‚    POST /users         â”‚
   â”‚   [DonnÃ©es]           â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
   â”‚                       â”‚ [CrÃ©ation]
   â”‚    [Nouvel ID]        â”‚
   â”‚ [Status: 201 Created] â”‚
   â”‚ [Error: 400 Bad Request]â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”‚
        </code></pre>
                    </div>
                    <p>UtilisÃ© pour crÃ©er une nouvelle ressource</p>

                    <!-- PUT -->
                    <h4>PUT</h4>
                    <div class="code-section">
                        <pre><code>
Client                    Serveur
   â”‚    PUT /users/1       â”‚
   â”‚   [DonnÃ©es]          â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                      â”‚ [Remplacement]
   â”‚     [Status]         â”‚
   â”‚ [Status: 200 OK]     â”‚
   â”‚ [Error: 404 Not Found]â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”‚
        </code></pre>
                    </div>
                    <p>UtilisÃ© pour mettre Ã  jour complÃ¨tement une ressource</p>

                    <!-- PATCH -->
                    <h4>PATCH</h4>
                    <div class="code-section">
                        <pre><code>
Client                    Serveur
   â”‚   PATCH /users/1      â”‚
   â”‚  [Modifications]      â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                      â”‚ [Mise Ã  jour]
   â”‚     [Status]         â”‚
   â”‚ [Status: 200 OK]     â”‚
   â”‚ [Error: 404 Not Found]â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”‚
        </code></pre>
                    </div>
                    <p>UtilisÃ© pour mettre Ã  jour partiellement une ressource</p>

                    <!-- DELETE -->
                    <h4>DELETE</h4>
                    <div class="code-section">
                        <pre><code>
Client                    Serveur
   â”‚  DELETE /users/1      â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                      â”‚ [Suppression]
   â”‚     [Status]         â”‚
   â”‚[Status: 204 No Content]â”‚
   â”‚[Error: 404 Not Found] â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€-â”‚
        </code></pre>
                    </div>
                    <p>UtilisÃ© pour supprimer une ressource</p>

                    <ul class="features-list">
                        <li>GET : Lecture (idempotent)</li>
                        <li>POST : CrÃ©ation</li>
                        <li>PUT : Mise Ã  jour complÃ¨te (idempotent)</li>
                        <li>PATCH : Mise Ã  jour partielle</li>
                        <li>DELETE : Suppression (idempotent)</li>
                    </ul>
                </div>
            </div>
        </section>


        <!-- Les Beans -->
        <section id="bean" class="section">
            <div class="subsection">
                <h3>Les Beans, l'Injection de DÃ©pendances et l'IoC</h3>
                <div class="concept-card">
                    <i class="fas fa-cogs"></i>

                    <h4>1. Qu'est-ce qu'un Bean ?</h4>
                    <p>Un Bean est simplement un objet Java qui est crÃ©Ã© et gÃ©rÃ© par Spring. Imaginez-le comme une
                        brique de base de votre application.</p>
                    <div class="code-section">
                        <pre><code>
        // Un simple Bean Spring
        @Component  // Cette annotation dit Ã  Spring "Ceci est un Bean"
        public class UserService {
            // Contenu de la classe
        }
                        </code></pre>
                    </div>

                    <h4>2. Le Conteneur IoC (Inversion of Control)</h4>
                    <div class="code-section">
                        <pre><code>
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         Spring IoC Container        â”‚
        â”‚                                     â”‚
        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
        â”‚   â”‚ Bean 1   â”‚      â”‚ Bean 2   â”‚   â”‚
        â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
        â”‚                                     â”‚
        â”‚    Spring crÃ©e et gÃ¨re les Beans    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        </code></pre>
                    </div>
                    <p>Le conteneur IoC est comme une usine qui :</p>
                    <ul class="features-list">
                        <li>CrÃ©e les objets (Beans)</li>
                        <li>Les configure</li>
                        <li>Les assemble</li>
                        <li>GÃ¨re leur cycle de vie</li>
                    </ul>

                    <h4>3. L'Injection de DÃ©pendances (DI)</h4>
                    <p>Au lieu de crÃ©er nos objets nous-mÃªmes, Spring les "injecte" lÃ  oÃ¹ nous en avons besoin.</p>

                    <h5>3.1 Sans Injection de DÃ©pendances âŒ</h5>
                    <div class="code-section">
                        <pre><code>
        public class UserService {
            // CrÃ©ation manuelle = Forte dÃ©pendance
            private UserRepository repository = new UserRepository();
        }
                        </code></pre>
                    </div>

                    <h5>3.2 Avec Injection de DÃ©pendances âœ…</h5>
                    <div class="code-section">
                        <pre><code>
        @Service
        public class UserService {
            private final UserRepository repository;
            
            // Spring injecte automatiquement UserRepository
            public UserService(UserRepository repository) {
                this.repository = repository;
            }
        }
                        </code></pre>
                    </div>

                    <h4>4. Les DiffÃ©rentes FaÃ§ons d'Injecter</h4>
                    <div class="code-section">
                        <pre><code>
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     MÃ©thodes d'Injection          â”‚
        â”‚                                    â”‚
        â”‚ 1. Constructor â”€â”€â”€â”€â–º RecommandÃ©e   â”‚
        â”‚ 2. Setter     â”€â”€â”€â”€â–º Alternative    â”‚
        â”‚ 3. Field      â”€â”€â”€â”€â–º DÃ©conseillÃ©e  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        
        // 1. Constructor Injection (RecommandÃ©e)
        @Service
        public class UserService {
            private final UserRepository repository;
            
            public UserService(UserRepository repository) {
                this.repository = repository;
            }
        }
        
        // 2. Setter Injection
        @Service
        public class UserService {
            private UserRepository repository;
            
            @Autowired
            public void setRepository(UserRepository repository) {
                this.repository = repository;
            }
        }
        
        // 3. Field Injection (Ã‰viter)
        @Service
        public class UserService {
            @Autowired
            private UserRepository repository;
        }
                        </code></pre>
                    </div>

                    <h4>5. Configuration des Beans</h4>
                    <p>Il existe deux faÃ§ons principales de dÃ©clarer des Beans :</p>

                    <h5>5.1 Annotations (MÃ©thode simple)</h5>
                    <div class="code-section">
                        <pre><code>
        @Component     // Pour les composants gÃ©nÃ©riques
        @Service       // Pour la couche service
        @Repository    // Pour la couche d'accÃ¨s aux donnÃ©es
        @Controller    // Pour les contrÃ´leurs web
                        </code></pre>
                    </div>

                    <h5>5.2 Configuration Java (Plus de contrÃ´le)</h5>
                    <div class="code-section">
                        <pre><code>
        @Configuration
        public class AppConfig {
            @Bean
            public UserService userService() {
                // Configuration personnalisÃ©e
                return new UserService(userRepository());
            }
        }
                        </code></pre>
                    </div>

                    <h4>6. Cycle de vie simplifiÃ© d'un Bean</h4>
                    <div class="code-section">
                        <pre><code>
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        Cycle de vie Bean            â”‚
        â”‚                                     â”‚
        â”‚ 1. Spring crÃ©e le Bean              â”‚
        â”‚          â†“                          â”‚
        â”‚ 2. Injection des dÃ©pendances        â”‚
        â”‚          â†“                          â”‚
        â”‚ 3. @PostConstruct                   â”‚
        â”‚          â†“                          â”‚
        â”‚ 4. Bean prÃªt Ã  l'utilisation       â”‚
        â”‚          â†“                          â”‚
        â”‚ 5. @PreDestroy                      â”‚
        â”‚          â†“                          â”‚
        â”‚ 6. Bean dÃ©truit                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        </code></pre>
                    </div>

                    <h4>Points ClÃ©s Ã  Retenir</h4>
                    <ul class="features-list">
                        <li>Les Beans sont des objets gÃ©rÃ©s par Spring</li>
                        <li>L'IoC nous libÃ¨re de la crÃ©ation manuelle d'objets</li>
                        <li>L'injection de dÃ©pendances rend le code plus flexible</li>
                        <li>PrÃ©fÃ©rez l'injection par constructeur</li>
                        <li>Utilisez @Component (ou ses variantes) pour les cas simples</li>
                        <li>Utilisez @Configuration/@Bean pour plus de contrÃ´le</li>
                    </ul>
                </div>
            </div>
        </section>


        <!-- Les Contraintes de Validation -->
        <section id="contraintes" class="section">
            <div class="subsection">
                <h3>Les Contraintes de Validation avec Spring Boot</h3>
                <div class="concept-card">
                    <i class="fas fa-check-circle"></i>

                    <h4>1. Introduction aux Validations</h4>
                    <p>Les contraintes de validation permettent de s'assurer que les donnÃ©es reÃ§ues par notre
                        application respectent certaines rÃ¨gles avant d'Ãªtre traitÃ©es.</p>

                    <h4>2. Mise en Place des Validations</h4>
                    <p>Tout d'abord, ajoutez la dÃ©pendance dans votre pom.xml :</p>
                    <div class="code-section">
                        <pre><code>
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;
    &lt;/dependency&gt;
                </code></pre>
                    </div>

                    <h4>3. Les Annotations de Validation Courantes</h4>
                    <div class="code-section">
                        <pre><code>
@NotNull          : La valeur ne doit pas Ãªtre null
@NotEmpty         : La chaÃ®ne/collection ne doit pas Ãªtre vide
@NotBlank         : La chaÃ®ne ne doit pas Ãªtre vide ou constituÃ©e uniquement d'espaces
@Min(value)       : Valeur minimale pour les nombres
@Max(value)       : Valeur maximale pour les nombres
@Size             : Taille d'une chaÃ®ne, collection, tableau
@Email            : Format d'email valide
@Pattern          : Expression rÃ©guliÃ¨re Ã  respecter
@URL              : Format d'URL valide
@Positive         : Valeur numÃ©rique strictement positive
@Negative         : Valeur numÃ©rique strictement nÃ©gative
@PositiveOrZero   : Valeur numÃ©rique positive ou nulle
@NegativeOrZero   : Valeur numÃ©rique nÃ©gative ou nulle
@Past             : Date dans le passÃ©
@Future           : Date dans le futur
@PastOrPresent    : Date dans le passÃ© ou prÃ©sent
@FutureOrPresent  : Date dans le futur ou prÃ©sent
@Valid            : Validation en cascade des objets imbriquÃ©s
                        </code></pre>
                    </div>

                    <h4>3.1 Placement des Contraintes de Validation</h4>
                    <div class="code-section">
                        <pre><code>
                    public class User {
                        // 1ï¸âƒ£ Sur l'attribut : Validation directe de la donnÃ©e
                        @NotNull
                        private String name;
                    
                        // 2ï¸âƒ£ Sur le getter : Validation aprÃ¨s transformation
                        private String email;
                        
                        @Email
                        public String getEmail() {
                            return email.toLowerCase(); // Validation aprÃ¨s transformation
                        }
                    }
                        </code></pre>
                    </div>

                    <p>Le placement des contraintes dÃ©pend du moment souhaitÃ© pour la validation :</p>
                    <ul class="features-list">
                        <li><strong>Sur l'attribut</strong> : Pour une validation immÃ©diate de la donnÃ©e brute</li>
                        <li><strong>Sur le getter</strong> : Pour valider aprÃ¨s une Ã©ventuelle transformation de la
                            donnÃ©e</li>
                    </ul>


                    <h4>4. Exemple Pratique</h4>
                    <p>CrÃ©ons une classe User avec des validations :</p>
                    <div class="code-section">
                        <pre><code>
    import javax.validation.constraints.*;

    public class User {
        @NotNull(message = "L'id ne peut pas Ãªtre null")
        private Long id;

        @NotBlank(message = "Le nom est obligatoire")
        @Size(min = 2, max = 50, message = "Le nom doit faire entre 2 et 50 caractÃ¨res")
        private String name;

        @Email(message = "Format d'email invalide")
        private String email;

        @Min(value = 18, message = "L'Ã¢ge minimum est 18 ans")
        private int age;
    }
                </code></pre>
                    </div>

                    <h4>5. Validation dans le Controller</h4>
                    <div class="code-section">
                        <pre><code>
    @RestController
    @RequestMapping("/api/users")
    public class UserController {

        @PostMapping
        public ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user) {
            // Si la validation Ã©choue, Spring retourne automatiquement 
            // une erreur 400 Bad Request
            return ResponseEntity.ok(userService.save(user));
        }
    }
                </code></pre>
                    </div>

                    <h4>5.1 Utilisation ComplÃ¨te de @Valid dans le Controller</h4>
                    <p>L'annotation @Valid doit Ãªtre placÃ©e systÃ©matiquement avant @RequestBody pour toutes les
                        opÃ©rations
                        modifiant des donnÃ©es :</p>
                    <div class="code-section">
                        <pre><code>
                    @RestController
                    @RequestMapping("/api/products")
                    public class ProductController {
                    
                        @PostMapping  // CrÃ©ation
                        public ResponseEntity&lt;Product&gt; createProduct(@Valid @RequestBody Product product) {
                            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(product));
                        }
                    
                        @PutMapping("/{id}")  // Mise Ã  jour complÃ¨te
                        public ResponseEntity&lt;Product&gt; updateProduct(
                            @PathVariable Long id, 
                            @Valid @RequestBody Product product) {
                            return ResponseEntity.ok(productService.update(id, product));
                        }
                    
                        @PatchMapping("/{id}")  // Mise Ã  jour partielle
                        public ResponseEntity&lt;Product&gt; partialUpdateProduct(
                            @PathVariable Long id, 
                            @Valid @RequestBody Product product) {
                            return ResponseEntity.ok(productService.partialUpdate(id, product));
                        }
                    }
                        </code></pre>
                    </div>

                    <ul class="features-list">
                        <li>@Valid est nÃ©cessaire pour toute opÃ©ration recevant des donnÃ©es (POST, PUT, PATCH)</li>
                        <li>Se place toujours avant @RequestBody</li>
                        <li>Non nÃ©cessaire pour les opÃ©rations de lecture (GET) ou suppression (DELETE)</li>
                        <li>Garantit la validation des donnÃ©es avant tout traitement</li>
                    </ul>


                    <h4>6. Gestion PersonnalisÃ©e des Erreurs</h4>
                    <div class="code-section">
                        <pre><code>
    @ControllerAdvice
    public class ValidationExceptionHandler {

        @ExceptionHandler(MethodArgumentNotValidException.class)
        public ResponseEntity&lt;Map&lt;String, String&gt;&gt; handleValidationExceptions(
            MethodArgumentNotValidException ex) {
            
            Map&lt;String, String&gt; errors = new HashMap<>();
            
            ex.getBindingResult().getAllErrors().forEach(error -> {
                String fieldName = ((FieldError) error).getField();
                String errorMessage = error.getDefaultMessage();
                errors.put(fieldName, errorMessage);
            });
            
            return ResponseEntity.badRequest().body(errors);
        }
    }
                </code></pre>
                    </div>

                    <h4>7. Exemple de Validation PersonnalisÃ©e</h4>
                    <p>CrÃ©ation d'une annotation personnalisÃ©e :</p>
                    <div class="code-section">
                        <pre><code>
    // L'annotation
    @Target({ElementType.FIELD})
    @Retention(RetentionPolicy.RUNTIME)
    @Constraint(validatedBy = PasswordValidator.class)
    public @interface StrongPassword {
        String message() default "Mot de passe trop faible";
        Class<?>[] groups() default {};
        Class<? extends Payload>[] payload() default {};
    }

    // Le validateur
    public class PasswordValidator implements ConstraintValidator&lt;StrongPassword, String&gt; {
        @Override
        public boolean isValid(String value, ConstraintValidatorContext context) {
            return value != null && 
                   value.length() >= 8 && 
                   value.matches(".*[A-Z].*") && 
                   value.matches(".*[a-z].*") && 
                   value.matches(".*[0-9].*");
        }
    }

    // Utilisation
    public class User {
        @StrongPassword
        private String password;
    }
                </code></pre>
                    </div>

                    <h4>Points ClÃ©s Ã  Retenir</h4>
                    <ul class="features-list">
                        <li>Les validations permettent de vÃ©rifier les donnÃ©es avant traitement</li>
                        <li>@Valid active la validation sur un objet</li>
                        <li>Les messages d'erreur peuvent Ãªtre personnalisÃ©s</li>
                        <li>PossibilitÃ© de crÃ©er des validations personnalisÃ©es</li>
                        <li>Spring gÃ¨re automatiquement les erreurs de validation</li>
                        <li>Les validations amÃ©liorent la robustesse de l'application</li>
                    </ul>
                </div>
            </div>
        </section>


        <!-- CORS et Communication React-Spring -->
        <section id="cors" class="section">
            <div class="subsection">
                <h3>IntÃ©gration React et Spring Boot : Configuration et Tests avec CORS</h3>
                <div class="concept-card">
                    <i class="fas fa-code-branch"></i>

                    <h4>1. Contexte et Objectif</h4>
                    <p>Dans un projet moderne, le backend (avec Spring Boot) et le frontend (avec React) doivent
                        fonctionner ensemble. Mais par dÃ©faut, ils ne peuvent pas communiquer librement s'ils sont
                        exÃ©cutÃ©s sur des serveurs ayant des origines diffÃ©rentes (par exemple, backend sur
                        <code>http://localhost:8080</code> et frontend sur <code>http://localhost:3000</code>). C'est
                        ici que le <b>CORS</b> (Cross-Origin Resource Sharing) entre en jeu.
                    </p>

                    <h4>2. Quâ€™est-ce que CORS ?</h4>
                    <p>
                        CORS est une *politique de sÃ©curitÃ©* utilisÃ©e par les navigateurs pour empÃªcher des requÃªtes
                        provenant d'une origine non autorisÃ©e. Avec CORS correctement configurÃ©, le backend autorisera
                        React Ã  lui envoyer des requÃªtes.
                    </p>

                    <div class="code-section schema">
                        <pre>
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       RequÃªte API        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ Frontend Reactâ”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Backend Springâ”‚
                  â”‚http://localhost:3000 â”‚                â”‚http://localhost:8080â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       RÃ©ponse API       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            ğŸš«<b>Sans configuration CORS :</b> Erreur bloquÃ©e par le navigateur.
                            âœ…<b>Avec configuration CORS :</b> Communication rÃ©ussie.
                  </pre>
                    </div>

                    <h4>3. Mise en Place de la Communication</h4>
                    <p>Voici comment configurer CORS et connecter les deux applications de maniÃ¨re fluide.</p>

                    <h5>Ã‰tape 1 : CrÃ©er un Backend Spring Boot</h5>
                    <p>CrÃ©ez un projet Spring Boot avec une simple API REST. Par exemple :</p>
                    <div class="code-section">
                        <pre><code>
          @RestController
          @RequestMapping("/api")
          public class TestController {
              @GetMapping("/test")
              public String test() {
                  return "Hello depuis Spring Boot !";
              }
          }
                  </code></pre>
                    </div>

                    <h5>Ã‰tape 2 : Configurer CORS dans Spring Boot</h5>
                    <p>Ajoutez une configuration CORS pour permettre Ã  React dâ€™accÃ©der au backend :</p>
                    <div class="code-section">
                        <pre><code>
          @Configuration
          public class CorsConfig implements WebMvcConfigurer {
              @Override
              public void addCorsMappings(CorsRegistry registry) {
                  registry.addMapping("/**") // Appliquer Ã  tous les endpoints
                          .allowedOrigins("http://localhost:3000") // Autorise React
                          .allowedMethods("GET", "POST", "PUT", "DELETE");
              }
          }
                  </code></pre>
                    </div>

                    <h5>Ã‰tape 3 : CrÃ©er un Frontend React</h5>
                    <p>CrÃ©ez un composant React pour tester l'appel au backend :</p>
                    <div class="code-section">
                        <pre><code>
          import React, { useEffect, useState } from 'react';
          
          const TestComponent = () => {
              const [data, setData] = useState("");
          
              useEffect(() => {
                  fetch("http://localhost:8080/api/test")
                      .then(response => response.text())
                      .then(data => setData(data))
                      .catch(error => console.error("Erreur :", error));
              }, []);
          
              return (
                  <div>
                      <h1>Test API</h1>
                      <p>RÃ©ponse du backend : {data}</p>
                  </div>
              );
          };
          
          export default TestComponent;
                  </code></pre>
                    </div>

                    <h5>Ã‰tape 4 : Tester la Communication</h5>
                    <p>1. Lancez le backend Spring Boot sur le port 8080.
                        2. Lancez le frontend React sur le port 3000.
                        3. AccÃ©dez au composant React et vÃ©rifiez que la rÃ©ponse du backend s'affiche correctement.</p>

                    <div class="code-section schema">
                        <pre>
                  ğŸŒ Frontend React       ğŸ”„        Backend Spring Boot
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚1. Appel fetch() depuis React                â”‚
                  â”‚   URL : http://localhost:8080/api/test      â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â¬† CORS configurÃ© â¬‡
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚2. RÃ©ponse JSON ou String : "Hello depuisâ€¦"  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  </pre>
                    </div>

                    <h4>4. RÃ©soudre les ProblÃ¨mes Courants</h4>
                    <div class="features-list">
                        <li><b>Erreur CORS :</b> VÃ©rifiez que l'origine utilisÃ©e dans Spring Boot correspond Ã  celle du
                            frontend.</li>
                        <li><b>Backend inaccessible :</b> Assurez-vous que le backend tourne bien Ã  l'adresse
                            <code>http://localhost:8080</code>.
                        </li>
                        <li><b>Pas de rÃ©ponse :</b> VÃ©rifiez que votre URL dans React est correcte.</li>
                    </div>

                    <h4>5. Bonnes Pratiques</h4>
                    <ul class="features-list">
                        <li>Utilisez un composant test (comme notre `TestController`) pour isoler les problÃ¨mes.</li>
                        <li>Configurez CORS globalement dans Spring Boot pour un dÃ©veloppement fluide.</li>
                        <li>Gardez les tests React pour vÃ©rifier rapidement la connectivitÃ© lors de modifications.</li>
                    </ul>
                </div>
            </div>
        </section>


        <!-- Les variables d'environnement -->
        <section id="env-variables" class="section">
            <div class="subsection">
                <h3>Les Variables dâ€™Environnement</h3>
                <div class="concept-card">
                    <i class="fas fa-lock"></i>

                    <h4>1. Introduction</h4>
                    <p>Souviens-toi, dans ton fichier <code>application.properties</code>, tu as peut-Ãªtre dÃ©fini des
                        informations telles que :</p>
                    <div class="code-section">
                        <pre><code>
          spring.datasource.url=jdbc:mysql://localhost:3306/visiotech_db?createDatabaseIfNotExist=true
          spring.datasource.username=your_mysql_username # ğŸ‘ˆ Ã  remplacer
          spring.datasource.password=your_mysql_password # ğŸ‘ˆ Ã  remplacer
                  </code></pre>
                    </div>
                    <p>Le problÃ¨me, c'est que ces informations sont **sensibles**. Tu ne veux pas qu'elles soient
                        visibles par tout le monde, surtout si ton code est versionnÃ© sur GitHub.</p>
                    <p>Pour rÃ©soudre ce problÃ¨me, tu peux utiliser des **variables dâ€™environnement**, un outil puissant
                        pour sÃ©curiser et structurer les configurations de ton application. ğŸŒŸ</p>

                    <div class="schema">
                        <pre>
          ğŸ’» Ton application        ğŸ”’ Variables d'environnement
                 â†“                               â†“
              Utilise les valeurs      Stocke les infos sensibles
                    lors de                 dans un systÃ¨me
              l'exÃ©cution.              sÃ©curisÃ© et externe.
                  </pre>
                    </div>

                    <h4>2. Pourquoi utiliser des Variables dâ€™Environnement ?</h4>
                    <ul class="features-list">
                        <li><b>ğŸ”’ SÃ©curitÃ© :</b> Les informations comme les mots de passe sont stockÃ©es en dehors du
                            code source, Ã©vitant ainsi tout partage accidentel.</li>
                        <li><b>ğŸš€ PortabilitÃ© :</b> Change les configurations en fonction des diffÃ©rentes Ã©tapes du
                            projet (dÃ©veloppement, test, production).</li>
                        <li><b>âš™ï¸ FacilitÃ© dâ€™utilisation :</b> Modifie les paramÃ¨tres sans toucher au code ou aux
                            fichiers versionnÃ©s.</li>
                    </ul>

                    <h4>3. Mise en Place avec Spring Boot et spring-dotenv</h4>
                    <p>Voyons comment implÃ©menter des variables dâ€™environnement dans un projet Spring Boot de maniÃ¨re
                        sÃ©curisÃ©e et propre. ğŸ› ï¸</p>

                    <h5>3.1 Ajoute la DÃ©pendance Maven</h5>
                    <p>Tout commence par lâ€™ajout de la dÃ©pendance suivante dans <code>pom.xml</code> :</p>
                    <div class="code-section">
                        <pre><code>
          <dependency>
              <groupId>me.paulschwarz</groupId>
              <artifactId>spring-dotenv</artifactId>
              <version>3.0.0</version>
          </dependency>
                  </code></pre>
                    </div>
                    <p><b>ğŸ’¡ Tip :</b> AprÃ¨s avoir modifiÃ© ton <code>pom.xml</code>, nâ€™oublie pas de <b>refresh</b> ton
                        projet Maven !</p>

                    <h5>3.2 CrÃ©e le Fichier <code>.env</code></h5>
                    <p>Ajoute un fichier <code>.env</code> Ã  la racine de ton projet (au mÃªme niveau que le dossier
                        <code>src</code>) et configure-y tes infos sensibles :
                    </p>
                    <div class="code-section">
                        <pre><code>
          DB_URL=jdbc:mysql://localhost:3306/visiotech_db?createDatabaseIfNotExist=true
          DB_USERNAME=your_mysql_username
          DB_PASSWORD=your_mysql_password
                  </code></pre>
                    </div>
                    <p>Voici oÃ¹ placer le fichier :</p>
                    <div class="schema">
                        <pre>
          ğŸ”– Mon Projet Spring Boot
          â”œâ”€â”€ src/
          â”œâ”€â”€ pom.xml
          â””â”€â”€ .env  ğŸ‘ˆ Ajoute ton fichier ici
                  </pre>
                    </div>

                    <h5>3.3 Ignore le Fichier <code>.env</code> dans Git</h5>
                    <p>Ajoute <code>.env</code> Ã  ton fichier <code>.gitignore</code> pour t'assurer qu'il ne soit
                        jamais versionnÃ© :</p>
                    <div class="code-section">
                        <pre><code>
          # Ignorer les fichiers contenant des variables sensibles
          .env
                  </code></pre>
                    </div>
                    <p><b>âš ï¸ ATTENTION :</b> Ne partage jamais ce fichier, car il contient des informations sensibles.
                    </p>

                    <h5>3.4 Ajoute un fichier <code>.envsample</code></h5>
                    <p>CrÃ©e un fichier <code>.envsample</code> pour partager avec dâ€™autres dÃ©veloppeurs un
                        <i>template</i> indiquant les variables nÃ©cessaires, sans leurs valeurs :
                    </p>
                    <div class="code-section">
                        <pre><code>
          DB_URL=
          DB_USERNAME=
          DB_PASSWORD=
                  </code></pre>
                    </div>
                    <p>Ainsi, chaque dÃ©veloppeur peut copier ce fichier, le renommer en <code>.env</code> et remplir les
                        valeurs selon ses besoins.</p>

                    <h5>3.5 Remplace les Configurations dans <code>application.properties</code></h5>
                    <p>Ã‰dite le fichier <code>application.properties</code> pour rÃ©fÃ©rencer tes variables
                        dâ€™environnement. Utilise la syntaxe <code>${VAR_NAME}</code>, comme ceci :</p>
                    <div class="code-section">
                        <pre><code>
          spring.datasource.url=${DB_URL}
          spring.datasource.username=${DB_USERNAME}
          spring.datasource.password=${DB_PASSWORD}
          spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
          
          spring.sql.init.mode=always
          logging.level.org.springframework.jdbc.core=DEBUG
                  </code></pre>
                    </div>
                    <p>Lorsque tu dÃ©marres lâ€™application, les valeurs de <code>.env</code> sont automatiquement
                        injectÃ©es. ğŸš€</p>

                    <h4>4. SchÃ©ma de Fonctionnement</h4>
                    <div class="schema">
                        <pre>
          ğŸŒ Ton application Spring Boot
                 â†•
          ğŸ“„ application.properties â–¶ RÃ©fÃ©rence les variables dâ€™environnement
                 â†•
          ğŸ“‚ .env â–¶ Contient les valeurs sensibles (non partagÃ©)
                  </pre>
                    </div>

                    <h4>5. Bonnes Pratiques</h4>
                    <ul class="features-list">
                        <li>Ajoute <code>.env</code> Ã  <code>.gitignore</code>.</li>
                        <li>CrÃ©e un <code>.envsample</code> pour guider tes collÃ¨gues.</li>
                        <li>Ne jamais mettre de valeurs sensibles directement dans <code>application.properties</code>.
                        </li>
                        <li>Utilise des outils comme <b>Vault</b> ou <b>Secrets Manager</b> si ton application est en
                            production.</li>
                    </ul>

                    <h4>6. Ce que tu as appris</h4>
                    <ul class="features-list">
                        <li>Comprendre la valeur et lâ€™usage des variables dâ€™environnement.</li>
                        <li>Configurer un fichier <code>.env</code> dans un projet Spring Boot avec la librairie
                            <code>spring-dotenv</code>.
                        </li>
                        <li>Ã‰viter de partager des donnÃ©es sensibles dans Git.</li>
                    </ul>
                </div>
            </div>
        </section>


        <!-- Mise en place de l'authentification -->
        <section id="auth-jwt" class="section">
            <div class="subsection">
                <h2>Mise en Place de lâ€™Authentification</h2>
                <p>ğŸš€ Dans ce chapitre, tu vas apprendre Ã  utiliser les **JWT (JSON Web Tokens)** pour mettre en place
                    un systÃ¨me dâ€™authentification sÃ©curisÃ© dans ton application. Ils permettront de restreindre lâ€™accÃ¨s
                    aux endpoints de ton API en fonction des rÃ´les dâ€™utilisateur.</p>

                <h3>ğŸ“š Objectifs</h3>
                <ul>
                    <li>âœ… DiffÃ©rencier authentification et autorisation</li>
                    <li>âœ… Comprendre comment un JWT facilite lâ€™authentification</li>
                    <li>âœ… Visualiser le sÃ©quenÃ§age dâ€™une authentification</li>
                    <li>âœ… ÃŠtre capable de comprendre et structurer un JWT</li>
                </ul>
            </div>

            <div class="subsection">
                <h3>Authentification VS Autorisation</h3>
                <p>La premiÃ¨re chose est de bien faire la diffÃ©rence entre **authentification** et **autorisation**â€¯:
                </p>

                <div class="concept-card">
                    <h4>ğŸ”‘ Authentification</h4>
                    <ul>
                        <li><strong>Objectif :</strong> VÃ©rifie lâ€™identitÃ© de lâ€™utilisateur.</li>
                        <li><strong>Exemple :</strong> Lâ€™utilisateur fournit un email + mot de passe pour prouver son
                            identitÃ© (login).</li>
                    </ul>
                </div>

                <div class="concept-card">
                    <h4>ğŸš¦ Autorisation</h4>
                    <ul>
                        <li><strong>Objectif :</strong> VÃ©rifie ce que lâ€™utilisateur a le droit de faire.</li>
                        <li><strong>Exemple :</strong> Un utilisateur connectÃ© avec un rÃ´le `ADMIN` peut modifier
                            dâ€™autres utilisateurs, mais un `USER` ne peut que visualiserÂ son propre profil.</li>
                    </ul>
                </div>

                <div class="schema">
                    <h5>ğŸ–¼ï¸ RÃ©sumÃ© visuel</h5>
                    <pre>
          1ï¸âƒ£ AUTHENTIFICATION :
          
          ğŸ”‘ Utilisateur :
             â¡ï¸ Email : user@example.com
             â¡ï¸ Mot de passe : password123
          
          Serveur : âœ” Authentification rÃ©ussie, voici ton <token> !
          
          ---
          
          2ï¸âƒ£ AUTORISATION
          ğŸ›‚ Avec le token :
          
            ğŸ”“ AccÃ¨s autorisÃ© (rÃ´le : ADMIN)
            ğŸ”’ AccÃ¨s refusÃ© (pas le bon rÃ´le)
                </pre>
                </div>
            </div>

            <div class="subsection">
                <h3>Le Workflow : Comment fonctionne lâ€™authentification JWT ?</h3>
                <p>Pour illustrer le process complet dâ€™authentification avec JWT, voici un schÃ©ma basÃ© sur un cas
                    classique :</p>

                <div class="schema">
                    <h5>ğŸ—ºï¸ Ã‰tapes dâ€™authentification avec JWT</h5>
                    <pre>
          1ï¸âƒ£ CrÃ©ation de Compte :
          Utilisateur â¡ï¸ /auth/register â¡ï¸ Serveur â¡ï¸ Sauvegarde dans BDD ğŸ—„ï¸
          
          2ï¸âƒ£ Login :
          Utilisateur â¡ï¸ /auth/login â¡ï¸ GÃ©nÃ©ration dâ€™un JWT ğŸ”‘
                                  Serveur valide ou refuse les identifiants.
          
          3ï¸âƒ£ Utilisation dâ€™un Token pour RÃ©quÃªtes API :
          Client â¡ï¸ HTTP Header (Authorization: Bearer <JWT>)
          Serveur                    â†• Valide et Autorise/Refuse.
                </pre>
                </div>
            </div>

            <div class="subsection">
                <h3>Quâ€™est-ce quâ€™un JWT (JSON Web Token)â€¯?</h3>
                <p>Un **JWT** est une clÃ© sÃ©curisÃ©e, utilisÃ©e comme preuve dâ€™identitÃ©. Elle se compose de 3 partiesâ€¯:
                </p>

                <ul class="features-list">
                    <li><b>ğŸ“ Header :</b> Contient des informations sur lâ€™algorithme et le type de token (JWT).</li>
                    <li><b>ğŸ“¦ Payload :</b> Transporte des informations sur lâ€™utilisateur (email, rÃ´le, etc.)</li>
                    <li><b>ğŸ–‹ï¸ Signature :</b> VÃ©rifie l'intÃ©gritÃ© du token pour sâ€™assurer quâ€™il nâ€™a pas Ã©tÃ© modifiÃ©.
                    </li>
                </ul>

                <div class="code-section">
                    <h5>ğŸ”— Exemple dâ€™un JWT</h5>
                    <pre><code>
          eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
          .eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ
          .SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
                </code></pre>
                </div>

                <div class="concept-card">
                    <h4>Structure</h4>
                    <ul>
                        <li><strong>Header</strong>â€¯:<br>{ "alg": "HS256", "typ": "JWT" }</li>
                        <li><strong>Payload</strong>â€¯:<br>{ "email": "user@example.com", "role": "USER", "exp":
                            1697801937 }</li>
                        <li><strong>Signature</strong> : (signÃ©e avec une clÃ© secrÃ¨te).</li>
                    </ul>
                </div>
            </div>

            <div class="subsection">
                <h3>RÃ©sumÃ© des Ã‰tapes : Authentification par JWT</h3>
                <div class="schema">
                    <pre>
          1ï¸âƒ£ Authentification auprÃ¨s du serveur :
             Utilisateur ğŸ‘‰ `/auth/login` (email + mot de passe)
             Serveur valide et gÃ©nÃ¨re un JWT.
          
          2ï¸âƒ£ RequÃªte API sÃ©curisÃ©e :
             Client ğŸ‘‰ envoie le Header HTTP: Authorization: Bearer <TOKEN>
             Serveur valide le token reÃ§u ğŸ“‘.
          
          3ï¸âƒ£ Expiration :
             Si le token expire, utilisateur doit se reconnecter.
                </pre>
                </div>
                <p>ğŸ”¥ Et voilÃ â€¯! Tu sais maintenant comment fonctionne une authentification sÃ©curisÃ©e par JWT. ğŸ›¡ï¸ On te
                    montre comment lâ€™implÃ©menter dans les chapitres suivants.</p>
                <div class="challenge-card">
                    <h4>ğŸš€ Challenge !</h4>
                    <p>Reproduis ce workflow dans ton projet :</p>
                    <ol>
                        <li>CrÃ©e un endpoint `/auth/register` pour enregistrer les utilisateurs.</li>
                        <li>CrÃ©e un endpoint `/auth/login` qui gÃ©nÃ¨re un JWT aprÃ¨s validation.</li>
                        <li>Configure un filtre JWT pour gÃ©rer l'autorisation sur tes routes sÃ©curisÃ©es.</li>
                    </ol>
                </div>
            </div>
        </section>


        <!-- Introduction Ã  Spring Security -->
        <section id="spring-security-intro" class="section">
            <div class="subsection">
                <h2>Introduction Ã  Spring Security ğŸš€</h2>
                <p>ğŸ¯ **Spring Security** est une bibliothÃ¨que de Spring qui fournit une couche de sÃ©curitÃ© pour gÃ©rer :
                    lâ€™authentification, les autorisations, la protection des routes et bien plus encore.</p>
                <p>Dans ces prochaines Ã©tapes, tu vas apprendre comment mettre en place lâ€™**authentification par JWT
                    Header** avec Spring Security, tout en dÃ©couvrant ses concepts essentiels.</p>
            </div>

            <div class="subsection">
                <h3>ğŸ›¡ï¸ Spring Security en quelques mots</h3>
                <p>Câ€™est une **solution de sÃ©curitÃ© robuste**, souvent utilisÃ©e dans les applications Java/Spring pour
                    sÃ©curiser les APIs et contrÃ´ler les accÃ¨s. Voici ce quâ€™il faut retenir avant dâ€™approfondir plus loin
                    :</p>

                <ul class="features-list">
                    <li>âœ… <strong>DÃ©pendance Maven</strong> : sâ€™active avec un ajout dans le `pom.xml`.</li>
                    <li>âœ… <strong>Gestion des CORS</strong> : intÃ©grÃ©e directement.</li>
                    <li>âœ… <strong>Configuration flexible</strong> : permet de dÃ©finir quelles routes sont protÃ©gÃ©es ou
                        publiques.</li>
                    <li>âœ… <strong>ContrÃ´le par rÃ´le</strong> : restreint lâ€™accÃ¨s aux routes selon les rÃ´les (ex.
                        `ADMIN`, `USER`).</li>
                    <li>âœ… <strong>Couche en amont</strong> : Spring Security agit avant mÃªme que les requÃªtes
                        nâ€™atteignent les contrÃ´leurs.</li>
                    <li>âœ… <strong>SÃ©curisÃ© par dÃ©faut</strong> : toute requÃªte sur une route non dÃ©finie renvoie un
                        statut **403 : Forbidden**.</li>
                </ul>

                <div class="notification">
                    ğŸ”— Tu peux explorer la <a href="https://docs.spring.io/spring-security/reference/index.html" rel="noopener"
                        target="_blank">documentation officielle ici</a>.
                </div>
            </div>

            <div class="subsection">
                <h3>ğŸ—ºï¸ SchÃ©ma global : Pourquoi utiliser Spring Security ?</h3>
                <p>Voici un aperÃ§u clair de la maniÃ¨re dont Spring Security sâ€™intÃ¨gre dans ton application :</p>

                <div class="schema">
                    <h5>âœ¨ Architecture simplifiÃ©e</h5>
                    <pre>
                                          ğŸ›¡ï¸ SPRING SECURITY
           --------------------------------------------------------------------
          |                                                                    |
          |      â¡ï¸ RequÃªte Entrante                                           |
          |                                                                    |
          |      ğŸ” Analyse et Filtrage (CORS, Authentification)               |
          |      ğŸ”“ Validation des Roles                                       |
          |                                                                    |
           --------------------------------------------------------------------
                  â¬‡ï¸                                                                  â¬‡ï¸
                [BloquÃ© : 403 âŒ]                                  [RequÃªte AcceptÃ©e : OK âœ…]
                                      â¬‡ï¸ ContrÃ´leurs
                            (Code mÃ©tier atteint uniquement si autorisÃ©)
                </pre>
                    <p>ğŸ’¡ **En rÃ©sumÃ© :** Spring Security agit comme un filtre qui protÃ¨ge ton application en bloquant
                        les requÃªtes non authentifiÃ©es ou non autorisÃ©es avant qu'elles ne parviennent Ã  tes
                        contrÃ´leurs.</p>
                </div>
            </div>

            <div class="subsection">
                <h3>âš™ï¸ Comment configurer Spring Security ?</h3>
                <p>Pour mettre en place lâ€™authentification par **JWT avec Spring Security**, voici les Ã©tapes globales
                    que tu seras amenÃ©(e) Ã  suivre :</p>

                <ol class="steps-list">
                    <li><strong>ğŸ“‚ Base de donnÃ©es :</strong> CrÃ©e les tables nÃ©cessaires pour gÃ©rer les utilisateurs.
                    </li>
                    <li><strong>ğŸ§© EntitÃ©s :</strong> CrÃ©e deux entitÃ©s (par exemple : `User` et `Role`).</li>
                    <li><strong>ğŸ’¾ DAO :</strong> CrÃ©e un `UserDao` pour accÃ©der aux donnÃ©es.</li>
                    <li><strong>ğŸ› ï¸ Service :</strong> ImplÃ©mente un service personnalisÃ© pour gÃ©rer les utilisateurs.
                    </li>
                    <li><strong>ğŸ”‘ JWT :</strong> DÃ©veloppe un utilitaire pour gÃ©nÃ©rer et valider les tokens JWT.</li>
                    <li><strong>ğŸ” Filtre JWT :</strong> Ajoute un filtre pour intercepter et valider les requÃªtes
                        entrantes.</li>
                    <li><strong>ğŸ“œ Configuration :</strong> DÃ©finit les routes protÃ©gÃ©es ou non protÃ©gÃ©es.</li>
                    <li><strong>ğŸ“¡ ContrÃ´leur :</strong> CrÃ©e un contrÃ´leur avec des endpoints comme `/register` et
                        `/login`.</li>
                </ol>

                <div class="diagram">
                    <img src="images/spring_security_workflow.png" alt="Spring Security Workflow"
                        class="responsive-image">
                    <p>Ce diagramme montre comment les composants se connectent et interagissent grÃ¢ce Ã  Spring
                        Security.</p>
                </div>
            </div>

            <div class="subsection">
                <h3>âš–ï¸ Pourquoi et quand utiliser Spring Securityâ€¯?</h3>
                <p>Voici une liste critique pour savoir **quand choisir Spring Security** :</p>

                <ul class="pros-and-cons">
                    <li><strong>Utiliser Spring Security si :</strong>
                        <ul>
                            <li>âœ… Tu cherches une solution complÃ¨te de gestion de lâ€™authentification (login/logout).
                            </li>
                            <li>âœ… Tu dois contrÃ´ler les accÃ¨s (par rÃ´le ou permissions).</li>
                            <li>âœ… Tu utilises dÃ©jÃ  lâ€™Ã©cosystÃ¨me Spring Boot.</li>
                            <li>âœ… Tu souhaites sÃ©curiser ton application via des JWT ou Basic Auth.</li>
                        </ul>
                    </li>
                    <li><strong>Ne pas utiliser Spring Security si :</strong>
                        <ul>
                            <li>âŒ Ton projet est trÃ¨s lÃ©ger (et n'utilise pas Spring Boot).</li>
                            <li>âŒ Tu recherches une solution trÃ¨s simplifiÃ©e sans authentification avancÃ©e.</li>
                        </ul>
                    </li>
                </ul>

                <p><strong>En rÃ©sumÃ© :</strong> Spring Security est idÃ©al lorsquâ€™un haut degrÃ© de sÃ©curitÃ© et de
                    personnalisation est requis, notamment dans des environnements professionnels ou complexes.</p>
            </div>

            <div class="subsection">
                <h3>ğŸ¯ Ã‰tape suivante : ImplÃ©mentation complÃ¨te</h3>
                <p>Dans les chapitres suivants, tu apprendras Ã  implÃ©menter chaque Ã©tape, petit Ã  petit :</p>

                <div class="next-steps-list">
                    <ul>
                        <li>ğŸ‘¨â€ğŸ’» [Base de donnÃ©es, entitÃ©s et DAO](#)</li>
                        <li>ğŸ” [CrÃ©ation du service utilisateur](#)</li>
                        <li>ğŸ”‘ [GÃ©nÃ©ration et validation du JWT](#)</li>
                        <li>âš™ï¸ [Ajout dâ€™un filtre JWT dynamique](#)</li>
                        <li>ğŸ›¡ï¸ [Configuration des routes sÃ©curisÃ©es](#)</li>
                        <li>ğŸ“¡ [Endpoints /register et /login](#)</li>
                    </ul>
                </div>
                <p><a href="#next-chapter" class="button">â¡ï¸ Passer au chapitre suivant</a></p>
            </div>
        </section>


        <!-- Pratique -->
        <section id="pratique" class="section">
            <div class="concept-card">
                <div class="subsection">
                    <h2>Mise en Pratique</h2>

                    <div class="subsection">
                        <h3>1. CrÃ©ation d'un projet</h3>
                        <div class="concept-card">
                            <div class="code-example">
                                <pre><code>
<!-- Utilisation de Spring Initializr -->
https://start.spring.io/
- Choisir Maven/Gradle
- Choisir Java 8+
- Ajouter les dÃ©pendances:
  * Spring Web
  * Spring Data JPA
  * H2 Database
            </code></pre>
                                <button class="copy-btn">Copier</button>
                            </div>
                        </div>
                    </div>


                    <div class="subsection">
                        <h3>2. Structure du projet</h3>
                        <div class="concept-card">
                            <div class="code-example">
                                <pre><code>
projet-demo/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ main/
    â”‚   â”‚   â”œâ”€â”€ java/
    â”‚   â”‚   â”‚   â””â”€â”€ com/example/demo/
    â”‚   â”‚   â”‚       â”œâ”€â”€ DemoApplication.java
    â”‚   â”‚   â”‚       â”œâ”€â”€ controllers/
    â”‚   â”‚   â”‚       â”œâ”€â”€ models/
    â”‚   â”‚   â”‚       â”œâ”€â”€ repositories/
    â”‚   â”‚   â”‚       â””â”€â”€ services/
    â”‚   â”‚   â””â”€â”€ resources/
    â”‚   â”‚       â””â”€â”€ application.properties
    â”‚   â””â”€â”€ test/
    â””â”€â”€ pom.xml
            </code></pre>
                                <button class="copy-btn">Copier</button>
                            </div>
                        </div>
                    </div>


                    <div class="subsection">
                        <h3>3. Application Simple</h3>
                        <div class="concept-card">
                            <div class="code-example">
                                <pre><code>
@SpringBootApplication
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}

@RestController
@RequestMapping("/api")
public class HelloController {
    @GetMapping("/hello")
    public String hello() {
        return "Hello Spring Boot!";
    }
}
            </code></pre>
                                <button class="copy-btn">Copier</button>
                            </div>
                        </div>
                    </div>


                    <div class="subsection">
                        <h3>4. Configuration</h3>
                        <div class="concept-card">
                            <div class="code-example">
                                <pre><code>
# application.properties
server.port=8080
spring.jpa.hibernate.ddl-auto=update
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
            </code></pre>
                                <button class="copy-btn">Copier</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>


        <!-- Concepts -->
        <section id="concepts" class="section">
            <h2>Concepts ClÃ©s</h2>
            <div class="concepts-grid">
                <div class="concept-card">
                    <i class="fas fa-cogs"></i>
                    <h3>Auto-configuration</h3>
                    <p>Spring Boot configure automatiquement votre application en fonction des
                        dÃ©pendances
                        ajoutÃ©es.
                    </p>
                    <ul>
                        <li>Configuration conditionnelle</li>
                        <li>DÃ©tection automatique</li>
                        <li>Configuration par dÃ©faut</li>
                    </ul>
                </div>

                <div class="concept-card">
                    <i class="fas fa-box"></i>
                    <h3>Spring Boot Starters</h3>
                    <p>DÃ©pendances prÃ©configurÃ©es pour diffÃ©rents scÃ©narios.</p>
                    <ul>
                        <li>spring-boot-starter-web</li>
                        <li>spring-boot-starter-data-jpa</li>
                        <li>spring-boot-starter-test</li>
                        <li>spring-boot-starter-security</li>
                    </ul>
                </div>

                <div class="concept-card">
                    <i class="fas fa-server"></i>
                    <h3>Serveur EmbarquÃ©</h3>
                    <p>Serveur d'application intÃ©grÃ©.</p>
                    <ul>
                        <li>Tomcat par dÃ©faut</li>
                        <li>Jetty en alternative</li>
                        <li>Undertow disponible</li>
                    </ul>
                </div>

                <div class="concept-card">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Spring Security</h3>
                    <p>SÃ©curitÃ© et authentification.</p>
                    <ul>
                        <li>Authentification</li>
                        <li>Autorisation</li>
                        <li>Protection CSRF</li>
                    </ul>
                </div>
            </div>
        </section>


        <!-- Les codes d'Ã‰tat HTTP -->
        <section id="http-errors" class="section">
            <div class="subsection">
                <h3>Comprendre les Codes d'Ã‰tat HTTP</h3>
                <div class="concept-card">
                    <i class="fas fa-exclamation-circle"></i>

                    <h4>1. Codes 1XX - Information</h4>
                    <div class="code-section">
                        <pre><code>
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         Codes 1XX                   â”‚
        â”‚                                     â”‚
        â”‚ 100 â†’ Continue                      â”‚
        â”‚ 101 â†’ Switching Protocols           â”‚
        â”‚ 102 â†’ Processing                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        
        Client          Serveur
           â”‚    Request    â”‚
           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
           â”‚              â”‚
           â”‚     100      â”‚
           â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
           â”‚   Continue   â”‚
                        </code></pre>
                    </div>
                    <p>Les codes 1XX indiquent une rÃ©ponse provisoire. Le client doit attendre la
                        rÃ©ponse
                        finale.</p>

                    <h4>2. Codes 2XX - SuccÃ¨s</h4>
                    <div class="code-section">
                        <pre><code>
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         Codes 2XX                   â”‚
        â”‚                                     â”‚
        â”‚ 200 â†’ OK                           â”‚
        â”‚ 201 â†’ Created                      â”‚
        â”‚ 202 â†’ Accepted                     â”‚
        â”‚ 204 â†’ No Content                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        
        Client          Serveur
           â”‚    Request    â”‚
           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
           â”‚              â”‚
           â”‚     200      â”‚
           â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
           â”‚     OK       â”‚
                        </code></pre>
                    </div>
                    <p>Les codes 2XX indiquent que la requÃªte a Ã©tÃ© traitÃ©e avec succÃ¨s.</p>

                    <h4>3. Codes 3XX - Redirection</h4>
                    <div class="code-section">
                        <pre><code>
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         Codes 3XX                   â”‚
        â”‚                                     â”‚
        â”‚ 301 â†’ Moved Permanently            â”‚
        â”‚ 302 â†’ Found (Temporary Redirect)   â”‚
        â”‚ 304 â†’ Not Modified                 â”‚
        â”‚ 307 â†’ Temporary Redirect           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        
        Client          Serveur
           â”‚    Request    â”‚
           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
           â”‚              â”‚
           â”‚     301      â”‚
           â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
           â”‚   Location   â”‚
           â”‚  /new-url    â”‚
                        </code></pre>
                    </div>
                    <p>Les codes 3XX indiquent que le client doit effectuer une action supplÃ©mentaire.
                    </p>

                    <h4>4. Codes 4XX - Erreur Client</h4>
                    <div class="code-section">
                        <pre><code>
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         Codes 4XX                   â”‚
        â”‚                                     â”‚
        â”‚ 400 â†’ Bad Request                  â”‚
        â”‚ 401 â†’ Unauthorized                 â”‚
        â”‚ 403 â†’ Forbidden                    â”‚
        â”‚ 404 â†’ Not Found                    â”‚
        â”‚ 405 â†’ Method Not Allowed           â”‚
        â”‚ 409 â†’ Conflict                     â”‚
        â”‚ 429 â†’ Too Many Requests            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        
        Client          Serveur
           â”‚   Bad Request â”‚
           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
           â”‚              â”‚
           â”‚     400      â”‚
           â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
           â”‚  Error msg   â”‚
                        </code></pre>
                    </div>
                    <p>Les codes 4XX indiquent une erreur de la part du client.</p>

                    <h4>5. Codes 5XX - Erreur Serveur</h4>
                    <div class="code-section">
                        <pre><code>
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         Codes 5XX                   â”‚
        â”‚                                     â”‚
        â”‚ 500 â†’ Internal Server Error        â”‚
        â”‚ 501 â†’ Not Implemented             â”‚
        â”‚ 502 â†’ Bad Gateway                 â”‚
        â”‚ 503 â†’ Service Unavailable         â”‚
        â”‚ 504 â†’ Gateway Timeout             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        
        Client          Serveur
           â”‚    Request    â”‚
           â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
           â”‚              â”‚ âš¡ Erreur
           â”‚     500      â”‚
           â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
           â”‚  Error msg   â”‚
                        </code></pre>
                    </div>
                    <p>Les codes 5XX indiquent une erreur de la part du serveur.</p>

                    <h4>RÃ©sumÃ© des Codes les Plus Courants</h4>
                    <ul class="features-list">
                        <li>200 : SuccÃ¨s - La requÃªte a Ã©tÃ© traitÃ©e avec succÃ¨s</li>
                        <li>201 : Created - Ressource crÃ©Ã©e avec succÃ¨s</li>
                        <li>400 : Bad Request - RequÃªte mal formÃ©e</li>
                        <li>401 : Unauthorized - Authentification nÃ©cessaire</li>
                        <li>403 : Forbidden - AccÃ¨s interdit</li>
                        <li>404 : Not Found - Ressource non trouvÃ©e</li>
                        <li>500 : Internal Server Error - Erreur serveur</li>
                        <li>503 : Service Unavailable - Service indisponible</li>
                    </ul>

                    <div class="schema-details">
                        <p><strong>Ã€ retenir :</strong></p>
                        <ul>
                            <li>1XX : Information (rarement utilisÃ©)</li>
                            <li>2XX : SuccÃ¨s</li>
                            <li>3XX : Redirection</li>
                            <li>4XX : Erreur client</li>
                            <li>5XX : Erreur serveur</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>


        <!-- Exercices -->
        <section id="exercices" class="section">
            <h2>Exercices Pratiques</h2>
            <div class="concept-card">
                <div class="exercise-container">
                    <!-- Exercice 1 -->
                    <div class="-card">
                        <h3>Exercice 1: CrÃ©ation d'une API REST</h3>
                        <div class="exercise-content">
                            <p class="exercise-description">
                                CrÃ©ez une API REST simple pour gÃ©rer une liste de livres avec les opÃ©rations
                                CRUD.
                            </p>
                            <div class="exercise-steps">
                                <h4>Ã‰tapes:</h4>
                                <ol>
                                    <li>CrÃ©er une classe Book (id, titre, auteur, annÃ©e)</li>
                                    <li>CrÃ©er un BookRepository</li>
                                    <li>ImplÃ©menter un BookController avec les endpoints CRUD</li>
                                    <li>Tester avec Postman ou cURL</li>
                                </ol>
                            </div>
                            <button class="solution-btn" data-exercise="1">Voir la solution</button>

                            <!-- Ajout de la solution -->
                            <div class="solution-content" id="solution-1">
                                <h4>Solution:</h4>

                                <div class="code-section">
                                    <h5>Book.java</h5>
                                    <pre><code>
@Entity
public class Book {
@Id
@GeneratedValue(strategy = GenerationType.IDENTITY)
private Long id;

private String title;
private String author;
private Integer year;

// Constructeurs, Getters et Setters
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>BookRepository.java</h5>
                                    <pre><code>
@Repository
public interface BookRepository extends JpaRepository<Book, Long> {
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>BookController.java</h5>
                                    <pre><code>
@RestController
@RequestMapping("/api/books")
public class BookController {

@Autowired
private BookRepository bookRepository;

// RÃ©cupÃ©rer tous les livres
@GetMapping
public List<Book> getAllBooks() {
return bookRepository.findAll();
}

// RÃ©cupÃ©rer un livre par ID
@GetMapping("/{id}")
public ResponseEntity<Book> getBookById(@PathVariable Long id) {
return bookRepository.findById(id)
    .map(ResponseEntity::ok)
    .orElse(ResponseEntity.notFound().build());
}

// CrÃ©er un nouveau livre
@PostMapping
public ResponseEntity<Book> createBook(@RequestBody Book book) {
Book savedBook = bookRepository.save(book);
return ResponseEntity.created(URI.create("/api/books/" + savedBook.getId()))
    .body(savedBook);
}

// Mettre Ã  jour un livre
@PutMapping("/{id}")
public ResponseEntity<Book> updateBook(@PathVariable Long id, @RequestBody Book book) {
return bookRepository.findById(id)
    .map(existingBook -> {
        book.setId(id);
        return ResponseEntity.ok(bookRepository.save(book));
    })
    .orElse(ResponseEntity.notFound().build());
}

// Supprimer un livre
@DeleteMapping("/{id}")
public ResponseEntity<Void> deleteBook(@PathVariable Long id) {
if (!bookRepository.existsById(id)) {
    return ResponseEntity.notFound().build();
}
bookRepository.deleteById(id);
return ResponseEntity.noContent().build();
}
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>Test avec cURL</h5>
                                    <pre><code>
# CrÃ©er un livre
curl -X POST http://localhost:8080/api/books \
-H "Content-Type: application/json" \
-d '{"title":"1984","author":"George Orwell","year":1949}'

# RÃ©cupÃ©rer tous les livres
curl http://localhost:8080/api/books

# RÃ©cupÃ©rer un livre par ID
curl http://localhost:8080/api/books/1

# Mettre Ã  jour un livre
curl -X PUT http://localhost:8080/api/books/1 \
-H "Content-Type: application/json" \
-d '{"title":"1984","author":"George Orwell","year":1948}'

# Supprimer un livre
curl -X DELETE http://localhost:8080/api/books/1
        </code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Exercice 2 -->
                    <div class="-card">
                        <h3>Exercice 2: Validation des donnÃ©es</h3>
                        <div class="exercise-content">
                            <p class="exercise-description">
                                Ajoutez la validation des donnÃ©es Ã  votre API de livres.
                            </p>
                            <div class="exercise-steps">
                                <h4>Ã‰tapes:</h4>
                                <ol>
                                    <li>Ajouter les annotations de validation</li>
                                    <li>CrÃ©er un gestionnaire d'erreurs global</li>
                                    <li>Tester avec des donnÃ©es invalides</li>
                                </ol>
                            </div>
                            <button class="solution-btn" data-exercise="2">Voir la solution</button>
                            <!-- Solution Exercice 2 -->
                            <div class="solution-content" id="solution-2">
                                <h4>Solution:</h4>

                                <div class="code-section">
                                    <h5>Book.java (avec validations)</h5>
                                    <pre><code>
@Entity
public class Book {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @NotBlank(message = "Le titre est obligatoire")
    @Size(min = 1, max = 100, message = "Le titre doit faire entre 1 et 100 caractÃ¨res")
    private String title;
    
    @NotBlank(message = "L'auteur est obligatoire")
    @Size(min = 1, max = 50, message = "Le nom de l'auteur doit faire entre 1 et 50 caractÃ¨res")
    private String author;
    
    @NotNull(message = "L'annÃ©e est obligatoire")
    @Min(value = 1000, message = "L'annÃ©e doit Ãªtre supÃ©rieure Ã  1000")
    @Max(value = 9999, message = "L'annÃ©e doit Ãªtre infÃ©rieure Ã  9999")
    private Integer year;

    // Getters et Setters
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>ErrorResponse.java</h5>
                                    <pre><code>
public class ErrorResponse {
    private LocalDateTime timestamp;
    private int status;
    private String error;
    private List<String> messages;

    public ErrorResponse(int status, String error, List<String> messages) {
        this.timestamp = LocalDateTime.now();
        this.status = status;
        this.error = error;
        this.messages = messages;
    }

    // Getters et Setters
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>GlobalExceptionHandler.java</h5>
                                    <pre><code>
@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(MethodArgumentNotValidException.class)
    public ResponseEntity<ErrorResponse> handleValidationErrors(MethodArgumentNotValidException ex) {
        List<String> errors = ex.getBindingResult()
            .getFieldErrors()
            .stream()
            .map(error -> error.getField() + ": " + error.getDefaultMessage())
            .collect(Collectors.toList());

        ErrorResponse errorResponse = new ErrorResponse(
            HttpStatus.BAD_REQUEST.value(),
            "Erreur de validation",
            errors
        );

        return new ResponseEntity<>(errorResponse, HttpStatus.BAD_REQUEST);
    }

    @ExceptionHandler(Exception.class)
    public ResponseEntity<ErrorResponse> handleAllUncaughtException(Exception ex) {
        ErrorResponse errorResponse = new ErrorResponse(
            HttpStatus.INTERNAL_SERVER_ERROR.value(),
            "Erreur serveur",
            Collections.singletonList(ex.getMessage())
        );

        return new ResponseEntity<>(errorResponse, HttpStatus.INTERNAL_SERVER_ERROR);
    }
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>BookController.java (mise Ã  jour)</h5>
                                    <pre><code>
@RestController
@RequestMapping("/api/books")
public class BookController {
    
    @Autowired
    private BookRepository bookRepository;

    @PostMapping
    public ResponseEntity<Book> createBook(@Valid @RequestBody Book book) {
        Book savedBook = bookRepository.save(book);
        return ResponseEntity.created(URI.create("/api/books/" + savedBook.getId()))
            .body(savedBook);
    }

    @PutMapping("/{id}")
    public ResponseEntity<Book> updateBook(
            @PathVariable Long id,
            @Valid @RequestBody Book book) {
        return bookRepository.findById(id)
            .map(existingBook -> {
                book.setId(id);
                return ResponseEntity.ok(bookRepository.save(book));
            })
            .orElse(ResponseEntity.notFound().build());
    }
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>Test avec cURL (donnÃ©es invalides)</h5>
                                    <pre><code>
# Test avec un titre vide
curl -X POST http://localhost:8080/api/books \
     -H "Content-Type: application/json" \
     -d '{"title":"","author":"George Orwell","year":1949}'

# Test avec une annÃ©e invalide
curl -X POST http://localhost:8080/api/books \
     -H "Content-Type: application/json" \
     -d '{"title":"1984","author":"George Orwell","year":999}'

# RÃ©ponse d'erreur typique
{
    "timestamp": "2023-11-15T10:30:00",
    "status": 400,
    "error": "Erreur de validation",
    "messages": [
        "title: Le titre est obligatoire",
        "year: L'annÃ©e doit Ãªtre supÃ©rieure Ã  1000"
    ]
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>pom.xml (dÃ©pendances nÃ©cessaires)</h5>
                                    <pre><code>
&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;
    &lt;/dependency&gt;
    ...
&lt;/dependencies&gt;
        </code></pre>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- Exercice 3 -->
                    <div class="-card">
                        <h3>Exercice 3: Tests unitaires</h3>
                        <div class="exercise-content">
                            <p class="exercise-description">
                                Ã‰crivez des tests unitaires pour votre API de livres.
                            </p>
                            <div class="exercise-steps">
                                <h4>Ã‰tapes:</h4>
                                <ol>
                                    <li>CrÃ©er des tests pour le Controller</li>
                                    <li>CrÃ©er des tests pour le Service</li>
                                    <li>Utiliser MockMvc pour les tests d'intÃ©gration</li>
                                </ol>
                            </div>
                            <button class="solution-btn" data-exercise="3">Voir la solution</button>
                            <!-- Solution Exercice 3 -->
                            <div class="solution-content" id="solution-3">
                                <h4>Solution:</h4>

                                <div class="code-section">
                                    <h5>BookService.java (ajout d'une couche service)</h5>
                                    <pre><code>
@Service
public class BookService {
    private final BookRepository bookRepository;

    @Autowired
    public BookService(BookRepository bookRepository) {
        this.bookRepository = bookRepository;
    }

    public List<Book> getAllBooks() {
        return bookRepository.findAll();
    }

    public Book getBookById(Long id) {
        return bookRepository.findById(id)
            .orElseThrow(() -> new ResourceNotFoundException("Livre non trouvÃ© avec l'id: " + id));
    }

    public Book createBook(Book book) {
        return bookRepository.save(book);
    }

    public Book updateBook(Long id, Book book) {
        getBookById(id); // VÃ©rifie si le livre existe
        book.setId(id);
        return bookRepository.save(book);
    }

    public void deleteBook(Long id) {
        getBookById(id); // VÃ©rifie si le livre existe
        bookRepository.deleteById(id);
    }
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>BookServiceTest.java</h5>
                                    <pre><code>
@ExtendWith(MockitoExtension.class)
class BookServiceTest {
    @Mock
    private BookRepository bookRepository;

    @InjectMocks
    private BookService bookService;

    private Book testBook;

    @BeforeEach
    void setUp() {
        testBook = new Book();
        testBook.setId(1L);
        testBook.setTitle("Test Book");
        testBook.setAuthor("Test Author");
        testBook.setYear(2023);
    }

    @Test
    void getAllBooks_ShouldReturnListOfBooks() {
        // Arrange
        List<Book> books = Arrays.asList(testBook);
        when(bookRepository.findAll()).thenReturn(books);

        // Act
        List<Book> result = bookService.getAllBooks();

        // Assert
        assertEquals(1, result.size());
        verify(bookRepository).findAll();
    }

    @Test
    void getBookById_WithValidId_ShouldReturnBook() {
        when(bookRepository.findById(1L)).thenReturn(Optional.of(testBook));

        Book result = bookService.getBookById(1L);

        assertEquals(testBook.getTitle(), result.getTitle());
        verify(bookRepository).findById(1L);
    }

    @Test
    void getBookById_WithInvalidId_ShouldThrowException() {
        when(bookRepository.findById(1L)).thenReturn(Optional.empty());

        assertThrows(ResourceNotFoundException.class, () -> 
            bookService.getBookById(1L)
        );
    }
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>BookControllerTest.java</h5>
                                    <pre><code>
@WebMvcTest(BookController.class)
class BookControllerTest {
    @Autowired
    private MockMvc mockMvc;

    @MockBean
    private BookService bookService;

    @Autowired
    private ObjectMapper objectMapper;

    private Book testBook;

    @BeforeEach
    void setUp() {
        testBook = new Book();
        testBook.setId(1L);
        testBook.setTitle("Test Book");
        testBook.setAuthor("Test Author");
        testBook.setYear(2023);
    }

    @Test
    void getAllBooks_ShouldReturnBooks() throws Exception {
        List<Book> books = Arrays.asList(testBook);
        when(bookService.getAllBooks()).thenReturn(books);

        mockMvc.perform(get("/api/books")
                .contentType(MediaType.APPLICATION_JSON))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$[0].title").value("Test Book"))
                .andExpect(jsonPath("$[0].author").value("Test Author"));
    }

    @Test
    void createBook_WithValidData_ShouldReturnCreated() throws Exception {
        when(bookService.createBook(any(Book.class))).thenReturn(testBook);

        mockMvc.perform(post("/api/books")
                .contentType(MediaType.APPLICATION_JSON)
                .content(objectMapper.writeValueAsString(testBook)))
                .andExpect(status().isCreated())
                .andExpect(jsonPath("$.title").value("Test Book"));
    }

    @Test
    void createBook_WithInvalidData_ShouldReturnBadRequest() throws Exception {
        testBook.setTitle(""); // Invalid title

        mockMvc.perform(post("/api/books")
                .contentType(MediaType.APPLICATION_JSON)
                .content(objectMapper.writeValueAsString(testBook)))
                .andExpect(status().isBadRequest());
    }
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>BookIntegrationTest.java</h5>
                                    <pre><code>
@SpringBootTest
@AutoConfigureMockMvc
class BookIntegrationTest {
    @Autowired
    private MockMvc mockMvc;

    @Autowired
    private BookRepository bookRepository;

    @Autowired
    private ObjectMapper objectMapper;

    @BeforeEach
    void setUp() {
        bookRepository.deleteAll();
    }

    @Test
    void bookLifecycle() throws Exception {
        // Create
        Book newBook = new Book();
        newBook.setTitle("Integration Test Book");
        newBook.setAuthor("Test Author");
        newBook.setYear(2023);

        String createResponse = mockMvc.perform(post("/api/books")
                .contentType(MediaType.APPLICATION_JSON)
                .content(objectMapper.writeValueAsString(newBook)))
                .andExpect(status().isCreated())
                .andReturn().getResponse().getContentAsString();

        Book createdBook = objectMapper.readValue(createResponse, Book.class);

        // Read
        mockMvc.perform(get("/api/books/" + createdBook.getId()))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$.title").value("Integration Test Book"));

        // Update
        createdBook.setTitle("Updated Title");
        mockMvc.perform(put("/api/books/" + createdBook.getId())
                .contentType(MediaType.APPLICATION_JSON)
                .content(objectMapper.writeValueAsString(createdBook)))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$.title").value("Updated Title"));

        // Delete
        mockMvc.perform(delete("/api/books/" + createdBook.getId()))
                .andExpect(status().isNoContent());
    }
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>pom.xml (dÃ©pendances de test)</h5>
                                    <pre><code>
&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.h2database&lt;/groupId&gt;
        &lt;artifactId&gt;h2&lt;/artifactId&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
        </code></pre>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- Exercice 4 -->
                    <div class="-card">
                        <h3>Exercice 4: SÃ©curitÃ© avec Spring Security</h3>
                        <div class="exercise-content">
                            <p class="exercise-description">
                                SÃ©curisez votre API avec authentification basic.
                            </p>
                            <div class="exercise-steps">
                                <h4>Ã‰tapes:</h4>
                                <ol>
                                    <li>Configurer Spring Security</li>
                                    <li>CrÃ©er des rÃ´les utilisateur</li>
                                    <li>ProtÃ©ger les endpoints</li>
                                    <li>Tester l'authentification</li>
                                </ol>
                            </div>
                            <button class="solution-btn" data-exercise="4">Voir la solution</button>
                            <!-- Solution Exercice 4 -->
                            <div class="solution-content" id="solution-4">
                                <h4>Solution:</h4>

                                <div class="code-section">
                                    <h5>pom.xml (dÃ©pendances de sÃ©curitÃ©)</h5>
                                    <pre><code>
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
&lt;/dependency&gt;
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>SecurityConfig.java</h5>
                                    <pre><code>
@Configuration
@EnableWebSecurity
public class SecurityConfig {

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .csrf().disable()
            .authorizeHttpRequests((auth) -> auth
                .requestMatchers(HttpMethod.GET, "/api/books/**").hasAnyRole("USER", "ADMIN")
                .requestMatchers(HttpMethod.POST, "/api/books").hasRole("ADMIN")
                .requestMatchers(HttpMethod.PUT, "/api/books/**").hasRole("ADMIN")
                .requestMatchers(HttpMethod.DELETE, "/api/books/**").hasRole("ADMIN")
                .anyRequest().authenticated()
            )
            .httpBasic(Customizer.withDefaults());

        return http.build();
    }

    @Bean
    public InMemoryUserDetailsManager userDetailsService() {
        UserDetails user = User.builder()
            .username("user")
            .password(passwordEncoder().encode("userpass"))
            .roles("USER")
            .build();

        UserDetails admin = User.builder()
            .username("admin")
            .password(passwordEncoder().encode("adminpass"))
            .roles("ADMIN")
            .build();

        return new InMemoryUserDetailsManager(user, admin);
    }

    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>BookController.java (avec annotations de sÃ©curitÃ©)</h5>
                                    <pre><code>
@RestController
@RequestMapping("/api/books")
public class BookController {

    @PreAuthorize("hasAnyRole('USER', 'ADMIN')")
    @GetMapping
    public List<Book> getAllBooks() {
        // ...
    }

    @PreAuthorize("hasRole('ADMIN')")
    @PostMapping
    public ResponseEntity<Book> createBook(@Valid @RequestBody Book book) {
        // ...
    }

    @PreAuthorize("hasRole('ADMIN')")
    @PutMapping("/{id}")
    public ResponseEntity<Book> updateBook(@PathVariable Long id, @Valid @RequestBody Book book) {
        // ...
    }

    @PreAuthorize("hasRole('ADMIN')")
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteBook(@PathVariable Long id) {
        // ...
    }
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>Tests avec cURL</h5>
                                    <pre><code>
# Tentative sans authentification
curl http://localhost:8080/api/books

# Lecture avec utilisateur normal
curl -u user:userpass http://localhost:8080/api/books

# CrÃ©ation avec utilisateur normal (doit Ã©chouer)
curl -u user:userpass -X POST http://localhost:8080/api/books \
     -H "Content-Type: application/json" \
     -d '{"title":"1984","author":"George Orwell","year":1949}'

# CrÃ©ation avec admin (doit rÃ©ussir)
curl -u admin:adminpass -X POST http://localhost:8080/api/books \
     -H "Content-Type: application/json" \
     -d '{"title":"1984","author":"George Orwell","year":1949}'
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>SecurityTest.java</h5>
                                    <pre><code>
@SpringBootTest
@AutoConfigureMockMvc
class SecurityTest {

    @Autowired
    private MockMvc mockMvc;

    @Test
    void getBooks_WithoutAuth_ShouldReturnUnauthorized() throws Exception {
        mockMvc.perform(get("/api/books"))
            .andExpect(status().isUnauthorized());
    }

    @Test
    void getBooks_WithUserRole_ShouldSucceed() throws Exception {
        mockMvc.perform(get("/api/books")
            .with(user("user").roles("USER")))
            .andExpect(status().isOk());
    }

    @Test
    void createBook_WithUserRole_ShouldBeForbidden() throws Exception {
        Book book = new Book();
        book.setTitle("Test");
        book.setAuthor("Author");
        book.setYear(2023);

        mockMvc.perform(post("/api/books")
            .with(user("user").roles("USER"))
            .contentType(MediaType.APPLICATION_JSON)
            .content(new ObjectMapper().writeValueAsString(book)))
            .andExpect(status().isForbidden());
    }

    @Test
    void createBook_WithAdminRole_ShouldSucceed() throws Exception {
        Book book = new Book();
        book.setTitle("Test");
        book.setAuthor("Author");
        book.setYear(2023);

        mockMvc.perform(post("/api/books")
            .with(user("admin").roles("ADMIN"))
            .contentType(MediaType.APPLICATION_JSON)
            .content(new ObjectMapper().writeValueAsString(book)))
            .andExpect(status().isCreated());
    }
}
        </code></pre>
                                </div>

                                <div class="code-section">
                                    <h5>application.properties (configuration optionnelle)</h5>
                                    <pre><code>
# DÃ©sactiver la page de login par dÃ©faut (pour API REST)
spring.security.basic.enabled=true
spring.security.user.name=user
spring.security.user.password=userpass

# Logs de sÃ©curitÃ© (utile pour le dÃ©veloppement)
logging.level.org.springframework.security=DEBUG
        </code></pre>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>


        <!-- Ressources -->
        <section id="ressources" class="section">
            <h2>Ressources Utiles</h2>
            <div class="resources-list">
                <a href="https://spring.io/projects/spring-boot" class="resource-link" target="_blank" rel="noopener">
                    <i class="fas fa-book"></i>
                    Documentation Officielle Spring Boot
                </a>
                <a href="https://start.spring.io/" class="resource-link" target="_blank" rel="noopener">
                    <i class="fas fa-play"></i>
                    Spring Initializr
                </a>
                <a href="https://github.com/spring-projects/spring-boot" class="resource-link" target="_blank"
                    rel="noopener">
                    <i class="fab fa-github"></i>
                    GitHub Spring Boot
                </a>
                <a href="https://spring.io/guides" class="resource-link" target="_blank" rel="noopener">
                    <i class="fas fa-graduation-cap"></i>
                    Spring Guides
                </a>
                <a href="https://satin-truffle-ac4.notion.site/1812ae802e2980f289aac0bb0c7378e4?v=0877a60633cc41188c1780036f37365e"
                    class="resource-link" target="_blank" rel="noopener">Spring boot - Index des notions
                    pour
                    dÃ©couvrir
                    Spring Boot Ã©tape par Ã©tape</a>
            </div>

            <div class="tips-section">
                <h3>Conseils et Bonnes Pratiques</h3>
                <ul>
                    <li>Utilisez les starters appropriÃ©s pour votre projet</li>
                    <li>Suivez la convention de nommage des packages</li>
                    <li>Utilisez la validation des donnÃ©es</li>
                    <li>ImplÃ©mentez des tests unitaires</li>
                    <li>Configurez correctement le logging</li>
                    <li>Utilisez les profiles Spring pour diffÃ©rents environnements</li>
                </ul>
            </div>
        </section>

        <!-- Modal -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div id="modal-text"></div>
            </div>
        </div>
        </>

        <!-- ScrollToTop -->
        <button id="scrollToTop" class="scroll-btn" title="Scroll to top">
            <i class="fas fa-arrow-up"></i>
        </button>

        <!-- ScrollToBottom -->
        <button id="scrollToBottom" class="scroll-btn" title="Scroll to bottom">
            <i class="fas fa-arrow-down"></i>
        </button>

        <script src="script.js"></script>
</body>

</html>